/*!
 * LMV v7.96.0
 *
 * Copyright 2024 Autodesk, Inc.
 * All rights reserved.
 *
 * This computer source code and related instructions and comments are the
 * unpublished confidential and proprietary information of Autodesk, Inc.
 * and are protected under Federal copyright and state trade secret law.
 * They may not be disclosed to, copied or used by any third party without
 * the prior written consent of Autodesk, Inc.
 *
 * Autodesk Viewer SDK Usage Limitations:
 *
 * The Autodesk Viewer SDK JavaScript must be delivered from an
 * Autodesk-hosted URL.
 */
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/
(() => { // webpackBootstrap
    /******/ // runtime can't be in strict mode because a global variable is assign and maybe created.
    /******/
    var __webpack_modules__ = ({

        /***/
        "./extensions/Edit3D/CoordPicker.js":
            /*!******************************************!*\
              !*** ./extensions/Edit3D/CoordPicker.js ***!
              \******************************************/
            /***/
            ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

                "use strict";
                eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CoordPicker)\n/* harmony export */ });\nconst ToolName = 'ModelAlignment.CoordPicker';\n\nconst Events = {\n  POINT_CLICKED: 'pointClicked',\n  POINT_HOVERED: 'pointHovered', // point param may be undefined if no object was hit at the current mouse position \n  ESCAPE: 'escape'\n};\n\nclass CoordPicker {\n\n  constructor(viewer, snapper) {\n    this.viewer = viewer;\n    this.snapper = snapper;\n\n    // Bind function so that we can use it for event listeners\n    this.onCameraChanged = this.onCameraChanged.bind(this);\n\n    Autodesk.Viewing.EventDispatcher.prototype.apply(this);\n\n    // Optional: If a plane is set, we select points on this plane instead of the model \n    this.selectionPlane = null;\n\n    this.enableSnapper = true;\n    this.snapperActive = false;\n    this.isDragging = false;\n\n    this.keyMap = {\n      SnapKey: Autodesk.Viewing.KeyCode.SHIFT // Holding this key suppresses snapping\n    };\n\n    // Track last mouse position in canvas coords. Note that derived classes must call\n    // the base class mouse handlers to keep this value valid.\n    this.canvasPos = new THREE.Vector2();\n\n    this.tmpPoint = new THREE.Vector3();\n    this.tmpMatrix3 = new THREE.Matrix3();\n\n    // Last successful hit under mouse.\n    this.lastHit = null;\n    this.consumeClickEvents = true;\n\n    this.snapFilter = null; // Optional snapping filter, based on snapResult. (snapResult) => boolean.\n\n    // Set default cursor.\n    this.setCursor();\n  }\n\n  // @param {THREE.Plane} [plane] - If a plane is set, we are selecting points on that plane instead of the model. \n  setSelectionPlane(plane) {\n    this.selectionPlane = plane;\n  }\n\n  getName() {\n    return ToolName;\n  }\n\n  getNames() {\n    return [ToolName];\n  }\n\n  setCursor(cursor) {\n    this.cursor = cursor ? cursor : 'crosshair';\n  }\n\n  getCursor() {\n    return this.isDragging ? 'grabbing' : this.active && this.lastHit ? this.cursor : null;\n  }\n\n  snapperOn() {\n    if (!this.snapperActive) {\n      this.viewer.toolController.activateTool(this.snapper.getName());\n      this.snapperActive = true;\n    }\n  }\n\n  snapperOff() {\n    if (this.snapperActive) {\n      this.viewer.toolController.deactivateTool(this.snapper.getName());\n      this.snapperActive = false;\n    }\n  }\n\n  setSnapperEnabled(enabled) {\n    this.enableSnapper = enabled;\n    if (enabled) {\n      this.snapperOn();\n    } else {\n      this.snapperOff();\n    }\n  }\n\n  setSnapFilter(snapFilter) {\n    this.snapFilter = snapFilter;\n    this.snapper.setSnapFilter(snapFilter);\n  }\n\n  activate() {\n    this.active = true;\n\n    if (this.enableSnapper) {\n      this.snapperOn();\n    }\n\n    this.viewer.addEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT, this.onCameraChanged);\n    this.viewer.impl.pauseHighlight(true);\n  }\n\n  deactivate() {\n    this.active = false;\n    this.isDragging = false;\n    this.lastHit = null;\n\n    this.snapperOff();\n\n    this.viewer.removeEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT, this.onCameraChanged);\n    this.viewer.impl.pauseHighlight(false);\n  }\n\n  register() {}\n\n  // Remember last mouse position\n  trackMousePos(e) {\n    this.canvasPos.set(e.canvasX, e.canvasY);\n  }\n\n  handleMouseMove(event) {\n    this.trackMousePos(event);\n\n    // Make sure that snapping result is up-to-date\n    this.snapper.onMouseMove({ x: event.canvasX, y: event.canvasY });\n\n    if (this.snapper.indicator) {\n      this.snapper.indicator.render();\n    }\n\n    // Note that we always fire, even if hit is undefined. This is needed to clear indicators and edit \n    // values if the mouse is not on an object anymore.\n    const result = this.getHitResultUnderMouse(event);\n    this.fireEvent({ type: Events.POINT_HOVERED, ...result });\n\n    return this.isDragging;\n  }\n\n  // Returns hitPoint under mouse or null if no object under mouse.\n  getHitResultUnderMouse(event) {\n\n    let point = null;\n    let normal = null;\n    let modelId = null;\n    let dbId = null;\n\n    if (this.snapperActive && this.snapper.isSnapped()) {\n      // Get snapped position.\n      const hitResult = this.snapper.getSnapResult();\n      point = Autodesk.Viewing.MeasureCommon.getSnapResultPosition(hitResult, this.viewer);\n      normal = hitResult === null || hitResult === void 0 ? void 0 : hitResult.faceNormal;\n      modelId = hitResult === null || hitResult === void 0 ? void 0 : hitResult.modelId;\n      dbId = hitResult === null || hitResult === void 0 ? void 0 : hitResult.snapNode;\n    } else {var _hitResult$face, _hitResult$model;\n      // When snapper is not active, or no point resulted, perform a simple hit test.\n      const hitResult = this.viewer.impl.hitTest(event.canvasX, event.canvasY);\n      point = hitResult === null || hitResult === void 0 ? void 0 : hitResult.point;\n\n      // Extract normal\n      if (hitResult !== null && hitResult !== void 0 && (_hitResult$face = hitResult.face) !== null && _hitResult$face !== void 0 && _hitResult$face.normal) {var _hitResult$model$getF;\n        const worldMatrix = new THREE.Matrix4();\n        (_hitResult$model$getF = hitResult.model.getFragmentList()) === null || _hitResult$model$getF === void 0 || _hitResult$model$getF.getWorldMatrix(hitResult.fragId, worldMatrix);\n        const normalMatrix = this.tmpMatrix3.getNormalMatrix(worldMatrix);\n        normal = hitResult.face.normal.clone().applyMatrix3(normalMatrix).normalize();\n      }\n\n      modelId = hitResult === null || hitResult === void 0 || (_hitResult$model = hitResult.model) === null || _hitResult$model === void 0 ? void 0 : _hitResult$model.id;\n      dbId = hitResult === null || hitResult === void 0 ? void 0 : hitResult.dbId;\n    }\n\n    if (this.snapFilter && !this.snapFilter({ modelId })) {\n      point = null;\n      normal = null;\n      modelId = null;\n      dbId = null;\n    }\n\n    // If selection plane is set, project the hit point on the plane.\n    if (point && this.selectionPlane) {\n      point = this.selectionPlane.projectPoint(point, this.tmpPoint);\n    }\n\n    const result = { point, normal, modelId, dbId };\n\n    // Update lastHit only if we have an actual hit.\n    this.lastHit = point ? result : null;\n\n    return result;\n  }\n\n  setConsumeClickEvents(consumeClickEvents) {\n    this.consumeClickEvents = consumeClickEvents;\n  }\n\n  handleSingleClick(event, button) {\n    this.trackMousePos(event);\n\n    // Only respond to left button\n    if (button !== 0) {\n      return false;\n    }\n\n    const result = this.getHitResultUnderMouse(event);\n\n    this.fireEvent({ type: Events.POINT_CLICKED, ...result });\n\n    return this.consumeClickEvents;\n  }\n\n  handleDoubleClick(event) {\n    this.trackMousePos(event);\n  }\n\n  handleButtonDown(event) {\n    this.trackMousePos(event);\n\n    // In case of start dragging, make sure to turn on the snapper first.\n    if (this.isDragging) {\n      this.snapperOn();\n    }\n\n    return this.handleMouseMove(event);\n  }\n\n  handleButtonUp(event) {\n    this.trackMousePos(event);\n    return this.isDragging;\n  }\n\n  // Simulate mouse move instantly when snapper is being toggled.\n  onSnappingToggled() {\n    this.handleMouseMove({\n      canvasX: this.canvasPos.x,\n      canvasY: this.canvasPos.y\n    });\n  }\n\n  handleKeyDown(event, keyCode) {\n    switch (keyCode) {\n      case Autodesk.Viewing.KeyCode.BACKSPACE:\n      case Autodesk.Viewing.KeyCode.DELETE:\n      case Autodesk.Viewing.KeyCode.ESCAPE:\n        this.fireEvent({ type: Events.ESCAPE });\n        return true;\n      case this.keyMap.SnapKey:\n        if (this.snapperActive) {\n          this.snapperOff();\n          this.onSnappingToggled();\n          return true;\n        }\n        return false;\n      default:\n        break;\n    }\n\n    return false;\n  }\n\n\n  handleKeyUp(event, keyCode) {\n    switch (keyCode) {\n      case this.keyMap.SnapKey:\n        if (!this.snapperActive && this.enableSnapper) {\n          this.snapperOn();\n          this.onSnappingToggled();\n          return true;\n        }\n        return false;\n      default:\n        break;\n    }\n\n    return false;\n  }\n\n  onCameraChanged() {\n    if (this.snapper.indicator) {\n      this.snapper.indicator.render();\n    }\n  }\n\n  setDragging(isDragging) {\n    this.isDragging = isDragging;\n  }\n\n  getDragging() {\n    return this.isDragging;\n  }\n}\n\nCoordPicker.Events = Events;\nCoordPicker.Name = ToolName;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUM1RCxPQUFPLENBQUM0RCxTQUFTLENBQUNDLE1BQU0sQ0FBQyxDQUFDO0lBQ25DO0VBQ0o7O0VBRUE4QyxXQUFXQSxDQUFDaEcsVUFBVSxFQUFFO0lBQ3BCLElBQUksQ0FBQ0EsVUFBVSxHQUFHQSxVQUFVO0VBQ2hDOztFQUVBaUcsV0FBV0EsQ0FBQSxFQUFHO0lBQ1YsT0FBTyxJQUFJLENBQUNqRyxVQUFVO0VBQzFCO0FBQ0o7O0FBRUFkLFdBQVcsQ0FBQ0osTUFBTSxHQUFHQSxNQUFNO0FBQzNCSSxXQUFXLENBQUNnSCxJQUFJLEdBQUdySCxRQUFRIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL2V4dGVuc2lvbnMvRWRpdDNEL0Nvb3JkUGlja2VyLmpzPzlkZDciXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgVG9vbE5hbWUgPSAnTW9kZWxBbGlnbm1lbnQuQ29vcmRQaWNrZXInO1xuXG5jb25zdCBFdmVudHMgPSB7XG4gICAgUE9JTlRfQ0xJQ0tFRDogJ3BvaW50Q2xpY2tlZCcsXG4gICAgUE9JTlRfSE9WRVJFRDogJ3BvaW50SG92ZXJlZCcsIC8vIHBvaW50IHBhcmFtIG1heSBiZSB1bmRlZmluZWQgaWYgbm8gb2JqZWN0IHdhcyBoaXQgYXQgdGhlIGN1cnJlbnQgbW91c2UgcG9zaXRpb24gXG4gICAgRVNDQVBFOiAnZXNjYXBlJ1xufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29vcmRQaWNrZXIge1xuXG4gICAgY29uc3RydWN0b3Iodmlld2VyLCBzbmFwcGVyKSB7XG4gICAgICAgIHRoaXMudmlld2VyID0gdmlld2VyO1xuICAgICAgICB0aGlzLnNuYXBwZXIgPSBzbmFwcGVyO1xuXG4gICAgICAgIC8vIEJpbmQgZnVuY3Rpb24gc28gdGhhdCB3ZSBjYW4gdXNlIGl0IGZvciBldmVudCBsaXN0ZW5lcnNcbiAgICAgICAgdGhpcy5vbkNhbWVyYUNoYW5nZWQgPSB0aGlzLm9uQ2FtZXJhQ2hhbmdlZC5iaW5kKHRoaXMpO1xuXG4gICAgICAgIEF1dG9kZXNrLlZpZXdpbmcuRXZlbnREaXNwYXRjaGVyLnByb3RvdHlwZS5hcHBseSh0aGlzKTtcblxuICAgICAgICAvLyBPcHRpb25hbDogSWYgYSBwbGFuZSBpcyBzZXQsIHdlIHNlbGVjdCBwb2ludHMgb24gdGhpcyBwbGFuZSBpbnN0ZWFkIG9mIHRoZSBtb2RlbCBcbiAgICAgICAgdGhpcy5zZWxlY3Rpb25QbGFuZSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5lbmFibGVTbmFwcGVyID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zbmFwcGVyQWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNEcmFnZ2luZyA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMua2V5TWFwID0ge1xuICAgICAgICAgICAgU25hcEtleTogQXV0b2Rlc2suVmlld2luZy5LZXlDb2RlLlNISUZULCAvLyBIb2xkaW5nIHRoaXMga2V5IHN1cHByZXNzZXMgc25hcHBpbmdcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBUcmFjayBsYXN0IG1vdXNlIHBvc2l0aW9uIGluIGNhbnZhcyBjb29yZHMuIE5vdGUgdGhhdCBkZXJpdmVkIGNsYXNzZXMgbXVzdCBjYWxsXG4gICAgICAgIC8vIHRoZSBiYXNlIGNsYXNzIG1vdXNlIGhhbmRsZXJzIHRvIGtlZXAgdGhpcyB2YWx1ZSB2YWxpZC5cbiAgICAgICAgdGhpcy5jYW52YXNQb3MgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuXG4gICAgICAgIHRoaXMudG1wUG9pbnQgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICAgICAgICB0aGlzLnRtcE1hdHJpeDMgPSBuZXcgVEhSRUUuTWF0cml4MygpO1xuXG4gICAgICAgIC8vIExhc3Qgc3VjY2Vzc2Z1bCBoaXQgdW5kZXIgbW91c2UuXG4gICAgICAgIHRoaXMubGFzdEhpdCA9IG51bGw7XG4gICAgICAgIHRoaXMuY29uc3VtZUNsaWNrRXZlbnRzID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLnNuYXBGaWx0ZXIgPSBudWxsOyAvLyBPcHRpb25hbCBzbmFwcGluZyBmaWx0ZXIsIGJhc2VkIG9uIHNuYXBSZXN1bHQuIChzbmFwUmVzdWx0KSA9PiBib29sZWFuLlxuXG4gICAgICAgIC8vIFNldCBkZWZhdWx0IGN1cnNvci5cbiAgICAgICAgdGhpcy5zZXRDdXJzb3IoKTtcbiAgICB9XG5cbiAgICAvLyBAcGFyYW0ge1RIUkVFLlBsYW5lfSBbcGxhbmVdIC0gSWYgYSBwbGFuZSBpcyBzZXQsIHdlIGFyZSBzZWxlY3RpbmcgcG9pbnRzIG9uIHRoYXQgcGxhbmUgaW5zdGVhZCBvZiB0aGUgbW9kZWwuIFxuICAgIHNldFNlbGVjdGlvblBsYW5lKHBsYW5lKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uUGxhbmUgPSBwbGFuZTtcbiAgICB9XG5cbiAgICBnZXROYW1lKCkge1xuICAgICAgICByZXR1cm4gVG9vbE5hbWU7XG4gICAgfVxuXG4gICAgZ2V0TmFtZXMoKSB7XG4gICAgICAgIHJldHVybiBbVG9vbE5hbWVdO1xuICAgIH1cblxuICAgIHNldEN1cnNvcihjdXJzb3IpIHtcbiAgICAgICAgdGhpcy5jdXJzb3IgPSBjdXJzb3IgPyBjdXJzb3IgOiAnY3Jvc3NoYWlyJztcbiAgICB9XG5cbiAgICBnZXRDdXJzb3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzRHJhZ2dpbmcgPyAnZ3JhYmJpbmcnIDogKHRoaXMuYWN0aXZlICYmIHRoaXMubGFzdEhpdCA/IHRoaXMuY3Vyc29yIDogbnVsbCk7XG4gICAgfVxuXG4gICAgc25hcHBlck9uKCkge1xuICAgICAgICBpZiAoIXRoaXMuc25hcHBlckFjdGl2ZSkge1xuICAgICAgICAgICAgdGhpcy52aWV3ZXIudG9vbENvbnRyb2xsZXIuYWN0aXZhdGVUb29sKHRoaXMuc25hcHBlci5nZXROYW1lKCkpO1xuICAgICAgICAgICAgdGhpcy5zbmFwcGVyQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNuYXBwZXJPZmYoKSB7XG4gICAgICAgIGlmICh0aGlzLnNuYXBwZXJBY3RpdmUpIHtcbiAgICAgICAgICAgIHRoaXMudmlld2VyLnRvb2xDb250cm9sbGVyLmRlYWN0aXZhdGVUb29sKHRoaXMuc25hcHBlci5nZXROYW1lKCkpO1xuICAgICAgICAgICAgdGhpcy5zbmFwcGVyQWN0aXZlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgc2V0U25hcHBlckVuYWJsZWQoZW5hYmxlZCkge1xuICAgICAgICB0aGlzLmVuYWJsZVNuYXBwZXIgPSBlbmFibGVkO1xuICAgICAgICBpZiAoZW5hYmxlZCkge1xuICAgICAgICAgICAgdGhpcy5zbmFwcGVyT24oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc25hcHBlck9mZigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0U25hcEZpbHRlcihzbmFwRmlsdGVyKSB7XG4gICAgICAgIHRoaXMuc25hcEZpbHRlciA9IHNuYXBGaWx0ZXI7XG4gICAgICAgIHRoaXMuc25hcHBlci5zZXRTbmFwRmlsdGVyKHNuYXBGaWx0ZXIpO1xuICAgIH1cblxuICAgIGFjdGl2YXRlKCkge1xuICAgICAgICB0aGlzLmFjdGl2ZSA9IHRydWU7XG5cbiAgICAgICAgaWYgKHRoaXMuZW5hYmxlU25hcHBlcikge1xuICAgICAgICAgICAgdGhpcy5zbmFwcGVyT24oKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudmlld2VyLmFkZEV2ZW50TGlzdGVuZXIoQXV0b2Rlc2suVmlld2luZy5DQU1FUkFfQ0hBTkdFX0VWRU5ULCB0aGlzLm9uQ2FtZXJhQ2hhbmdlZCk7XG4gICAgICAgIHRoaXMudmlld2VyLmltcGwucGF1c2VIaWdobGlnaHQodHJ1ZSk7XG4gICAgfVxuXG4gICAgZGVhY3RpdmF0ZSgpIHtcbiAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pc0RyYWdnaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMubGFzdEhpdCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5zbmFwcGVyT2ZmKCk7XG5cbiAgICAgICAgdGhpcy52aWV3ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihBdXRvZGVzay5WaWV3aW5nLkNBTUVSQV9DSEFOR0VfRVZFTlQsIHRoaXMub25DYW1lcmFDaGFuZ2VkKTtcbiAgICAgICAgdGhpcy52aWV3ZXIuaW1wbC5wYXVzZUhpZ2hsaWdodChmYWxzZSk7XG4gICAgfVxuXG4gICAgcmVnaXN0ZXIoKSB7IH1cbiAgICBcbiAgICAvLyBSZW1lbWJlciBsYXN0IG1vdXNlIHBvc2l0aW9uXG4gICAgdHJhY2tNb3VzZVBvcyhlKSB7XG4gICAgICAgIHRoaXMuY2FudmFzUG9zLnNldChlLmNhbnZhc1gsIGUuY2FudmFzWSk7XG4gICAgfVxuXG4gICAgaGFuZGxlTW91c2VNb3ZlKGV2ZW50KSB7XG4gICAgICAgIHRoaXMudHJhY2tNb3VzZVBvcyhldmVudCk7XG5cbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoYXQgc25hcHBpbmcgcmVzdWx0IGlzIHVwLXRvLWRhdGVcbiAgICAgICAgdGhpcy5zbmFwcGVyLm9uTW91c2VNb3ZlKHsgeDogZXZlbnQuY2FudmFzWCwgeTogZXZlbnQuY2FudmFzWSB9KTtcblxuICAgICAgICBpZiAodGhpcy5zbmFwcGVyLmluZGljYXRvcikge1xuICAgICAgICAgICAgdGhpcy5zbmFwcGVyLmluZGljYXRvci5yZW5kZXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE5vdGUgdGhhdCB3ZSBhbHdheXMgZmlyZSwgZXZlbiBpZiBoaXQgaXMgdW5kZWZpbmVkLiBUaGlzIGlzIG5lZWRlZCB0byBjbGVhciBpbmRpY2F0b3JzIGFuZCBlZGl0IFxuICAgICAgICAvLyB2YWx1ZXMgaWYgdGhlIG1vdXNlIGlzIG5vdCBvbiBhbiBvYmplY3QgYW55bW9yZS5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5nZXRIaXRSZXN1bHRVbmRlck1vdXNlKGV2ZW50KTtcbiAgICAgICAgdGhpcy5maXJlRXZlbnQoeyB0eXBlOiBFdmVudHMuUE9JTlRfSE9WRVJFRCwgLi4ucmVzdWx0IH0pO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmlzRHJhZ2dpbmc7XG4gICAgfVxuXG4gICAgLy8gUmV0dXJucyBoaXRQb2ludCB1bmRlciBtb3VzZSBvciBudWxsIGlmIG5vIG9iamVjdCB1bmRlciBtb3VzZS5cbiAgICBnZXRIaXRSZXN1bHRVbmRlck1vdXNlKGV2ZW50KSB7XG5cbiAgICAgICAgbGV0IHBvaW50ID0gbnVsbDtcbiAgICAgICAgbGV0IG5vcm1hbCA9IG51bGw7XG4gICAgICAgIGxldCBtb2RlbElkID0gbnVsbDtcbiAgICAgICAgbGV0IGRiSWQgPSBudWxsO1xuXG4gICAgICAgIGlmICh0aGlzLnNuYXBwZXJBY3RpdmUgJiYgdGhpcy5zbmFwcGVyLmlzU25hcHBlZCgpKSB7XG4gICAgICAgICAgICAvLyBHZXQgc25hcHBlZCBwb3NpdGlvbi5cbiAgICAgICAgICAgIGNvbnN0IGhpdFJlc3VsdCA9IHRoaXMuc25hcHBlci5nZXRTbmFwUmVzdWx0KCk7XG4gICAgICAgICAgICBwb2ludCA9IEF1dG9kZXNrLlZpZXdpbmcuTWVhc3VyZUNvbW1vbi5nZXRTbmFwUmVzdWx0UG9zaXRpb24oaGl0UmVzdWx0LCB0aGlzLnZpZXdlcik7XG4gICAgICAgICAgICBub3JtYWwgPSBoaXRSZXN1bHQ/LmZhY2VOb3JtYWw7XG4gICAgICAgICAgICBtb2RlbElkID0gaGl0UmVzdWx0Py5tb2RlbElkO1xuICAgICAgICAgICAgZGJJZCA9IGhpdFJlc3VsdD8uc25hcE5vZGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBXaGVuIHNuYXBwZXIgaXMgbm90IGFjdGl2ZSwgb3Igbm8gcG9pbnQgcmVzdWx0ZWQsIHBlcmZvcm0gYSBzaW1wbGUgaGl0IHRlc3QuXG4gICAgICAgICAgICBjb25zdCBoaXRSZXN1bHQgPSB0aGlzLnZpZXdlci5pbXBsLmhpdFRlc3QoZXZlbnQuY2FudmFzWCwgZXZlbnQuY2FudmFzWSk7XG4gICAgICAgICAgICBwb2ludCA9IGhpdFJlc3VsdD8ucG9pbnQ7XG5cbiAgICAgICAgICAgIC8vIEV4dHJhY3Qgbm9ybWFsXG4gICAgICAgICAgICBpZiAoaGl0UmVzdWx0Py5mYWNlPy5ub3JtYWwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB3b3JsZE1hdHJpeCA9IG5ldyBUSFJFRS5NYXRyaXg0KCk7XG4gICAgICAgICAgICAgICAgaGl0UmVzdWx0Lm1vZGVsLmdldEZyYWdtZW50TGlzdCgpPy5nZXRXb3JsZE1hdHJpeChoaXRSZXN1bHQuZnJhZ0lkLCB3b3JsZE1hdHJpeCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgbm9ybWFsTWF0cml4ID0gdGhpcy50bXBNYXRyaXgzLmdldE5vcm1hbE1hdHJpeCh3b3JsZE1hdHJpeCk7XG4gICAgICAgICAgICAgICAgbm9ybWFsID0gaGl0UmVzdWx0LmZhY2Uubm9ybWFsLmNsb25lKCkuYXBwbHlNYXRyaXgzKG5vcm1hbE1hdHJpeCkubm9ybWFsaXplKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1vZGVsSWQgPSBoaXRSZXN1bHQ/Lm1vZGVsPy5pZDtcbiAgICAgICAgICAgIGRiSWQgPSBoaXRSZXN1bHQ/LmRiSWQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zbmFwRmlsdGVyICYmICF0aGlzLnNuYXBGaWx0ZXIoeyBtb2RlbElkIH0pKSB7XG4gICAgICAgICAgICBwb2ludCA9IG51bGw7XG4gICAgICAgICAgICBub3JtYWwgPSBudWxsO1xuICAgICAgICAgICAgbW9kZWxJZCA9IG51bGw7XG4gICAgICAgICAgICBkYklkID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHNlbGVjdGlvbiBwbGFuZSBpcyBzZXQsIHByb2plY3QgdGhlIGhpdCBwb2ludCBvbiB0aGUgcGxhbmUuXG4gICAgICAgIGlmIChwb2ludCAmJiB0aGlzLnNlbGVjdGlvblBsYW5lKSB7XG4gICAgICAgICAgICBwb2ludCA9IHRoaXMuc2VsZWN0aW9uUGxhbmUucHJvamVjdFBvaW50KHBvaW50LCB0aGlzLnRtcFBvaW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHsgcG9pbnQsIG5vcm1hbCwgbW9kZWxJZCwgZGJJZCB9O1xuXG4gICAgICAgIC8vIFVwZGF0ZSBsYXN0SGl0IG9ubHkgaWYgd2UgaGF2ZSBhbiBhY3R1YWwgaGl0LlxuICAgICAgICB0aGlzLmxhc3RIaXQgPSBwb2ludCA/IHJlc3VsdCA6IG51bGw7XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBzZXRDb25zdW1lQ2xpY2tFdmVudHMoY29uc3VtZUNsaWNrRXZlbnRzKSB7XG4gICAgICAgIHRoaXMuY29uc3VtZUNsaWNrRXZlbnRzID0gY29uc3VtZUNsaWNrRXZlbnRzO1xuICAgIH1cblxuICAgIGhhbmRsZVNpbmdsZUNsaWNrKGV2ZW50LCBidXR0b24pIHtcbiAgICAgICAgdGhpcy50cmFja01vdXNlUG9zKGV2ZW50KTtcblxuICAgICAgICAvLyBPbmx5IHJlc3BvbmQgdG8gbGVmdCBidXR0b25cbiAgICAgICAgaWYgKGJ1dHRvbiAhPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5nZXRIaXRSZXN1bHRVbmRlck1vdXNlKGV2ZW50KTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuZmlyZUV2ZW50KHsgdHlwZTogRXZlbnRzLlBPSU5UX0NMSUNLRUQsIC4uLnJlc3VsdCB9KTtcblxuICAgICAgICByZXR1cm4gdGhpcy5jb25zdW1lQ2xpY2tFdmVudHM7XG4gICAgfVxuXG4gICAgaGFuZGxlRG91YmxlQ2xpY2soZXZlbnQpIHtcbiAgICAgICAgdGhpcy50cmFja01vdXNlUG9zKGV2ZW50KTtcbiAgICB9XG5cbiAgICBoYW5kbGVCdXR0b25Eb3duKGV2ZW50KSB7XG4gICAgICAgIHRoaXMudHJhY2tNb3VzZVBvcyhldmVudCk7XG5cbiAgICAgICAgLy8gSW4gY2FzZSBvZiBzdGFydCBkcmFnZ2luZywgbWFrZSBzdXJlIHRvIHR1cm4gb24gdGhlIHNuYXBwZXIgZmlyc3QuXG4gICAgICAgIGlmICh0aGlzLmlzRHJhZ2dpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuc25hcHBlck9uKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVNb3VzZU1vdmUoZXZlbnQpO1xuICAgIH1cblxuICAgIGhhbmRsZUJ1dHRvblVwKGV2ZW50KSB7XG4gICAgICAgIHRoaXMudHJhY2tNb3VzZVBvcyhldmVudCk7XG4gICAgICAgIHJldHVybiB0aGlzLmlzRHJhZ2dpbmc7XG4gICAgfVxuXG4gICAgLy8gU2ltdWxhdGUgbW91c2UgbW92ZSBpbnN0YW50bHkgd2hlbiBzbmFwcGVyIGlzIGJlaW5nIHRvZ2dsZWQuXG4gICAgb25TbmFwcGluZ1RvZ2dsZWQoKSB7XG4gICAgICAgIHRoaXMuaGFuZGxlTW91c2VNb3ZlKHtcbiAgICAgICAgICBjYW52YXNYOiB0aGlzLmNhbnZhc1Bvcy54LFxuICAgICAgICAgIGNhbnZhc1k6IHRoaXMuY2FudmFzUG9zLnksXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGhhbmRsZUtleURvd24oZXZlbnQsIGtleUNvZGUpIHtcbiAgICAgICAgc3dpdGNoIChrZXlDb2RlKSB7XG4gICAgICAgICAgICBjYXNlIEF1dG9kZXNrLlZpZXdpbmcuS2V5Q29kZS5CQUNLU1BBQ0U6XG4gICAgICAgICAgICBjYXNlIEF1dG9kZXNrLlZpZXdpbmcuS2V5Q29kZS5ERUxFVEU6XG4gICAgICAgICAgICBjYXNlIEF1dG9kZXNrLlZpZXdpbmcuS2V5Q29kZS5FU0NBUEU6XG4gICAgICAgICAgICAgICAgdGhpcy5maXJlRXZlbnQoeyB0eXBlOiBFdmVudHMuRVNDQVBFIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgY2FzZSB0aGlzLmtleU1hcC5TbmFwS2V5OlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNuYXBwZXJBY3RpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zbmFwcGVyT2ZmKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25TbmFwcGluZ1RvZ2dsZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG5cbiAgICBoYW5kbGVLZXlVcChldmVudCwga2V5Q29kZSkge1xuICAgICAgICBzd2l0Y2ggKGtleUNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgdGhpcy5rZXlNYXAuU25hcEtleTpcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuc25hcHBlckFjdGl2ZSAmJiB0aGlzLmVuYWJsZVNuYXBwZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zbmFwcGVyT24oKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vblNuYXBwaW5nVG9nZ2xlZCgpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgb25DYW1lcmFDaGFuZ2VkKCkge1xuICAgICAgICBpZiAodGhpcy5zbmFwcGVyLmluZGljYXRvcikge1xuICAgICAgICAgICAgdGhpcy5zbmFwcGVyLmluZGljYXRvci5yZW5kZXIoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldERyYWdnaW5nKGlzRHJhZ2dpbmcpIHtcbiAgICAgICAgdGhpcy5pc0RyYWdnaW5nID0gaXNEcmFnZ2luZztcbiAgICB9XG5cbiAgICBnZXREcmFnZ2luZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNEcmFnZ2luZztcbiAgICB9XG59XG5cbkNvb3JkUGlja2VyLkV2ZW50cyA9IEV2ZW50cztcbkNvb3JkUGlja2VyLk5hbWUgPSBUb29sTmFtZTtcbiJdLCJuYW1lcyI6WyJUb29sTmFtZSIsIkV2ZW50cyIsIlBPSU5UX0NMSUNLRUQiLCJQT0lOVF9IT1ZFUkVEIiwiRVNDQVBFIiwiQ29vcmRQaWNrZXIiLCJjb25zdHJ1Y3RvciIsInZpZXdlciIsInNuYXBwZXIiLCJvbkNhbWVyYUNoYW5nZWQiLCJiaW5kIiwiQXV0b2Rlc2siLCJWaWV3aW5nIiwiRXZlbnREaXNwYXRjaGVyIiwicHJvdG90eXBlIiwiYXBwbHkiLCJzZWxlY3Rpb25QbGFuZSIsImVuYWJsZVNuYXBwZXIiLCJzbmFwcGVyQWN0aXZlIiwiaXNEcmFnZ2luZyIsImtleU1hcCIsIlNuYXBLZXkiLCJLZXlDb2RlIiwiU0hJRlQiLCJjYW52YXNQb3MiLCJUSFJFRSIsIlZlY3RvcjIiLCJ0bXBQb2ludCIsIlZlY3RvcjMiLCJ0bXBNYXRyaXgzIiwiTWF0cml4MyIsImxhc3RIaXQiLCJjb25zdW1lQ2xpY2tFdmVudHMiLCJzbmFwRmlsdGVyIiwic2V0Q3Vyc29yIiwic2V0U2VsZWN0aW9uUGxhbmUiLCJwbGFuZSIsImdldE5hbWUiLCJnZXROYW1lcyIsImN1cnNvciIsImdldEN1cnNvciIsImFjdGl2ZSIsInNuYXBwZXJPbiIsInRvb2xDb250cm9sbGVyIiwiYWN0aXZhdGVUb29sIiwic25hcHBlck9mZiIsImRlYWN0aXZhdGVUb29sIiwic2V0U25hcHBlckVuYWJsZWQiLCJlbmFibGVkIiwic2V0U25hcEZpbHRlciIsImFjdGl2YXRlIiwiYWRkRXZlbnRMaXN0ZW5lciIsIkNBTUVSQV9DSEFOR0VfRVZFTlQiLCJpbXBsIiwicGF1c2VIaWdobGlnaHQiLCJkZWFjdGl2YXRlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInJlZ2lzdGVyIiwidHJhY2tNb3VzZVBvcyIsImUiLCJzZXQiLCJjYW52YXNYIiwiY2FudmFzWSIsImhhbmRsZU1vdXNlTW92ZSIsImV2ZW50Iiwib25Nb3VzZU1vdmUiLCJ4IiwieSIsImluZGljYXRvciIsInJlbmRlciIsInJlc3VsdCIsImdldEhpdFJlc3VsdFVuZGVyTW91c2UiLCJmaXJlRXZlbnQiLCJ0eXBlIiwicG9pbnQiLCJub3JtYWwiLCJtb2RlbElkIiwiZGJJZCIsImlzU25hcHBlZCIsImhpdFJlc3VsdCIsImdldFNuYXBSZXN1bHQiLCJNZWFzdXJlQ29tbW9uIiwiZ2V0U25hcFJlc3VsdFBvc2l0aW9uIiwiZmFjZU5vcm1hbCIsInNuYXBOb2RlIiwiX2hpdFJlc3VsdCRmYWNlIiwiX2hpdFJlc3VsdCRtb2RlbCIsImhpdFRlc3QiLCJmYWNlIiwiX2hpdFJlc3VsdCRtb2RlbCRnZXRGIiwid29ybGRNYXRyaXgiLCJNYXRyaXg0IiwibW9kZWwiLCJnZXRGcmFnbWVudExpc3QiLCJnZXRXb3JsZE1hdHJpeCIsImZyYWdJZCIsIm5vcm1hbE1hdHJpeCIsImdldE5vcm1hbE1hdHJpeCIsImNsb25lIiwiYXBwbHlNYXRyaXgzIiwibm9ybWFsaXplIiwiaWQiLCJwcm9qZWN0UG9pbnQiLCJzZXRDb25zdW1lQ2xpY2tFdmVudHMiLCJoYW5kbGVTaW5nbGVDbGljayIsImJ1dHRvbiIsImhhbmRsZURvdWJsZUNsaWNrIiwiaGFuZGxlQnV0dG9uRG93biIsImhhbmRsZUJ1dHRvblVwIiwib25TbmFwcGluZ1RvZ2dsZWQiLCJoYW5kbGVLZXlEb3duIiwia2V5Q29kZSIsIkJBQ0tTUEFDRSIsIkRFTEVURSIsImhhbmRsZUtleVVwIiwic2V0RHJhZ2dpbmciLCJnZXREcmFnZ2luZyIsIk5hbWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Edit3D/CoordPicker.js\n");

                /***/
            }),

        /***/
        "./extensions/Edit3D/Edit3D.js":
            /*!*************************************!*\
              !*** ./extensions/Edit3D/Edit3D.js ***!
              \*************************************/
            /***/
            ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

                "use strict";
                eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Edit3DExtension)\n/* harmony export */ });\n/* harmony import */ var _Gizmo3D_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Gizmo3D.js */ \"./extensions/Edit3D/Gizmo3D.js\");\n/* harmony import */ var _Label3D_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Label3D.js */ \"./extensions/Edit3D/Label3D.js\");\n/* harmony import */ var _PointMarker_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./PointMarker.js */ \"./extensions/Edit3D/PointMarker.js\");\n/* harmony import */ var _CoordPicker_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./CoordPicker.js */ \"./extensions/Edit3D/CoordPicker.js\");\n/* harmony import */ var _TwoPointPicker_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./TwoPointPicker.js */ \"./extensions/Edit3D/TwoPointPicker.js\");\n/* harmony import */ var _NPointPicker_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./NPointPicker.js */ \"./extensions/Edit3D/NPointPicker.js\");\n\nconst av = Autodesk.Viewing;\nconst namespace = AutodeskNamespace('Autodesk.Edit3D');\nconst myExtensionName = 'Autodesk.Edit3D';\n\n\n\n\n\n\n\n\n/** \n * Edit3D extension is a collection of general-purpose helper classes to faciliate \n * implementation of 3D EditTools.\n * Loading the extension does not add UI or changes behavior in the viewer. Its purpose is only\n * to provide a basis for other extensions and client applications.\n * \n * The extension id is: `Autodesk.Edit3D`\n * \n * @example\n *   viewer.loadExtension('Autodesk.Edit3D')\n *\n * @memberof Autodesk.Viewing.Extensions\n * @see {@link Autodesk.Viewing.Extension} for common inherited methods.\n * @alias Autodesk.Viewing.Extensions.Edit3DExtension\n * @class\n */\nclass Edit3DExtension extends av.Extension {\n  constructor(viewer, options) {\n    super(viewer, options);\n  }\n}\n\nnamespace.Gizmo3D = _Gizmo3D_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\nnamespace.Label3D = _Label3D_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"];\nnamespace.PointMarker = _PointMarker_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"];\nnamespace.CoordPicker = _CoordPicker_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"];\nnamespace.TwoPointPicker = _TwoPointPicker_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"];\nnamespace.NPointPicker = _NPointPicker_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"];\n\n// Register the extension with the extension manager.\nav.theExtensionManager.registerExtension(myExtensionName, Edit3DExtension);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL0VkaXQzRC9FZGl0M0QuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFDQSxNQUFNQSxFQUFFLEdBQUdDLFFBQVEsQ0FBQ0MsT0FBTztBQUMzQixNQUFNQyxTQUFTLEdBQUdDLGlCQUFpQixDQUFDLGlCQUFpQixDQUFDO0FBQ3RELE1BQU1DLGVBQWUsR0FBRyxpQkFBaUI7O0FBRU47QUFDQTtBQUNRO0FBQ0E7QUFDTTtBQUNKOztBQUU3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNlLE1BQU1PLGVBQWUsU0FBU1osRUFBRSxDQUFDYSxTQUFTLENBQUM7RUFDdERDLFdBQVdBLENBQUNDLE1BQU0sRUFBRUMsT0FBTyxFQUFFO0lBQ3pCLEtBQUssQ0FBQ0QsTUFBTSxFQUFFQyxPQUFPLENBQUM7RUFDMUI7QUFDSjs7QUFFQWIsU0FBUyxDQUFDRyxPQUFPLEdBQUdBLG1EQUFPO0FBQzNCSCxTQUFTLENBQUNJLE9BQU8sR0FBR0EsbURBQU87QUFDM0JKLFNBQVMsQ0FBQ0ssV0FBVyxHQUFHQSx1REFBVztBQUNuQ0wsU0FBUyxDQUFDTSxXQUFXLEdBQUdBLHVEQUFXO0FBQ25DTixTQUFTLENBQUNPLGNBQWMsR0FBR0EsMERBQWM7QUFDekNQLFNBQVMsQ0FBQ1EsWUFBWSxHQUFHQSx3REFBWTs7QUFFckM7QUFDQVgsRUFBRSxDQUFDaUIsbUJBQW1CLENBQUNDLGlCQUFpQixDQUFDYixlQUFlLEVBQUVPLGVBQWUsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9leHRlbnNpb25zL0VkaXQzRC9FZGl0M0QuanM/ZjI0YSJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmNvbnN0IGF2ID0gQXV0b2Rlc2suVmlld2luZztcbmNvbnN0IG5hbWVzcGFjZSA9IEF1dG9kZXNrTmFtZXNwYWNlKCdBdXRvZGVzay5FZGl0M0QnKTtcbmNvbnN0IG15RXh0ZW5zaW9uTmFtZSA9ICdBdXRvZGVzay5FZGl0M0QnO1xuXG5pbXBvcnQgR2l6bW8zRCBmcm9tICcuL0dpem1vM0QuanMnO1xuaW1wb3J0IExhYmVsM0QgZnJvbSAnLi9MYWJlbDNELmpzJztcbmltcG9ydCBQb2ludE1hcmtlciBmcm9tICcuL1BvaW50TWFya2VyLmpzJztcbmltcG9ydCBDb29yZFBpY2tlciBmcm9tICcuL0Nvb3JkUGlja2VyLmpzJztcbmltcG9ydCBUd29Qb2ludFBpY2tlciBmcm9tICcuL1R3b1BvaW50UGlja2VyLmpzJztcbmltcG9ydCBOUG9pbnRQaWNrZXIgZnJvbSBcIi4vTlBvaW50UGlja2VyLmpzXCI7XG5cbi8qKiBcbiAqIEVkaXQzRCBleHRlbnNpb24gaXMgYSBjb2xsZWN0aW9uIG9mIGdlbmVyYWwtcHVycG9zZSBoZWxwZXIgY2xhc3NlcyB0byBmYWNpbGlhdGUgXG4gKiBpbXBsZW1lbnRhdGlvbiBvZiAzRCBFZGl0VG9vbHMuXG4gKiBMb2FkaW5nIHRoZSBleHRlbnNpb24gZG9lcyBub3QgYWRkIFVJIG9yIGNoYW5nZXMgYmVoYXZpb3IgaW4gdGhlIHZpZXdlci4gSXRzIHB1cnBvc2UgaXMgb25seVxuICogdG8gcHJvdmlkZSBhIGJhc2lzIGZvciBvdGhlciBleHRlbnNpb25zIGFuZCBjbGllbnQgYXBwbGljYXRpb25zLlxuICogXG4gKiBUaGUgZXh0ZW5zaW9uIGlkIGlzOiBgQXV0b2Rlc2suRWRpdDNEYFxuICogXG4gKiBAZXhhbXBsZVxuICogICB2aWV3ZXIubG9hZEV4dGVuc2lvbignQXV0b2Rlc2suRWRpdDNEJylcbiAqXG4gKiBAbWVtYmVyb2YgQXV0b2Rlc2suVmlld2luZy5FeHRlbnNpb25zXG4gKiBAc2VlIHtAbGluayBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbn0gZm9yIGNvbW1vbiBpbmhlcml0ZWQgbWV0aG9kcy5cbiAqIEBhbGlhcyBBdXRvZGVzay5WaWV3aW5nLkV4dGVuc2lvbnMuRWRpdDNERXh0ZW5zaW9uXG4gKiBAY2xhc3NcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRWRpdDNERXh0ZW5zaW9uIGV4dGVuZHMgYXYuRXh0ZW5zaW9uIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3ZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIodmlld2VyLCBvcHRpb25zKTtcbiAgICB9XG59XG5cbm5hbWVzcGFjZS5HaXptbzNEID0gR2l6bW8zRDtcbm5hbWVzcGFjZS5MYWJlbDNEID0gTGFiZWwzRDtcbm5hbWVzcGFjZS5Qb2ludE1hcmtlciA9IFBvaW50TWFya2VyO1xubmFtZXNwYWNlLkNvb3JkUGlja2VyID0gQ29vcmRQaWNrZXI7XG5uYW1lc3BhY2UuVHdvUG9pbnRQaWNrZXIgPSBUd29Qb2ludFBpY2tlcjtcbm5hbWVzcGFjZS5OUG9pbnRQaWNrZXIgPSBOUG9pbnRQaWNrZXI7XG5cbi8vIFJlZ2lzdGVyIHRoZSBleHRlbnNpb24gd2l0aCB0aGUgZXh0ZW5zaW9uIG1hbmFnZXIuXG5hdi50aGVFeHRlbnNpb25NYW5hZ2VyLnJlZ2lzdGVyRXh0ZW5zaW9uKG15RXh0ZW5zaW9uTmFtZSwgRWRpdDNERXh0ZW5zaW9uKTtcblxuIl0sIm5hbWVzIjpbImF2IiwiQXV0b2Rlc2siLCJWaWV3aW5nIiwibmFtZXNwYWNlIiwiQXV0b2Rlc2tOYW1lc3BhY2UiLCJteUV4dGVuc2lvbk5hbWUiLCJHaXptbzNEIiwiTGFiZWwzRCIsIlBvaW50TWFya2VyIiwiQ29vcmRQaWNrZXIiLCJUd29Qb2ludFBpY2tlciIsIk5Qb2ludFBpY2tlciIsIkVkaXQzREV4dGVuc2lvbiIsIkV4dGVuc2lvbiIsImNvbnN0cnVjdG9yIiwidmlld2VyIiwib3B0aW9ucyIsInRoZUV4dGVuc2lvbk1hbmFnZXIiLCJyZWdpc3RlckV4dGVuc2lvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/Edit3D/Edit3D.js\n");

                /***/
            }),

        /***/
        "./extensions/Edit3D/Gizmo3D.js":
            /*!**************************************!*\
              !*** ./extensions/Edit3D/Gizmo3D.js ***!
              \**************************************/
            /***/
            ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

                "use strict";
                eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Gizmo3D)\n/* harmony export */ });\n\nlet nextId = 1;\n\n// Helper class for displaying a 3D shape that is scaled to keep approximately constant screen-size.\n// Example:\n//   const gizmo = new Gizmo3D(viewer).makeCube();\n//   gizmo.setPosition(10, 10, 10);\n//   gizmo.setVisible(true);\nclass Gizmo3D {\n\n  // @param {Viewer3d} viewer\n  // @param {number}   [pixelSize]   - Size of the gizmo in pixels\n  // @param {Vector3}  [pos]         - Initial position. Default (0,0,0)\n  // @param {string}   [overlayName] - Name of an (existing) viewer overlay used to display the gizmo. If not specified, the Gizmo creates its own.\n  constructor(viewer) {let pixelSize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 30;let pos = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;let overlayName = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n\n    this.id = nextId++;\n\n    this.viewer = viewer;\n\n    // The shape is auto-scaled in a way that the projected screen-size of the unitBox diagonal\n    // keeps equal to this value.\n    this.pixelSize = pixelSize;\n\n    // Container for the gizmo shape. Matrix of this scene is controlled by the gizmo\n    this.scene = new THREE.Scene();\n\n    // Shape or scene to be displayed. BBox should be the unit box [-0.5, 0.5]^2, so that\n    // uto-scaling works properly.\n    this.shape = null;\n\n    // Connect event listener\n    this.onCameraChange = this.onCameraChange.bind(this);\n    this.viewer.addEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT, this.onCameraChange);\n\n    // Make sure that matrix is recomputed after position/scale changes.\n    this.scene.matrixAutoUpdate = true;\n\n    // Overlay name that we use to display the gizmo\n    this.overlayName = overlayName;\n\n    // create own overlay if none specified\n    this.overlayOwned = !overlayName;\n    if (this.overlayOwned) {\n      this.overlayName = `Gizmo3D_Overlay_${this.id}`;\n      this.viewer.impl.createOverlayScene(this.overlayName);\n    }\n\n    this.visible = false;\n\n    if (pos) {\n      this.setPosition(pos);\n    }\n  }\n\n  setPosition(x, y, z) {\n\n    // Suppoer call with single Vec3 param\n    if (typeof x === 'object') {\n      this.scene.position.copy(x);\n    } else {\n      this.scene.position.set(x, y, z);\n    }\n    this.scene.matrixWorldNeedsUpdate;\n\n    this.update();\n\n    return this;\n  }\n\n  dtor() {\n    this.viewer.removeEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT, this.onCameraChange);\n\n    if (this.overlayOwned) {\n      this.viewer.impl.removeOverlayScene(this.overlayName);\n    }\n  }\n\n  clearShape() {\n    if (this.shape) {\n      this.scene.remove(this.shape);\n      this.shape = null;\n    }\n  }\n\n  // Set a gizmo shape to display. Must be scaled to unitBox.\n  setShape(shape) {\n    this.clearShape();\n    this.shape = shape;\n    this.scene.add(shape);\n    return this;\n  }\n\n  // Set shape to sphere\n  makeSphere() {let color = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0xff0000;\n\n    // create sphere mesh, centered at (0,0,0)\n    const radius = 0.5;\n    const widthSegments = 22;\n    const heightSegments = 16;\n    const geometry = new THREE.SphereGeometry(radius, widthSegments, heightSegments);\n    const material = new THREE.MeshPhongMaterial({ color });\n    const shape = new THREE.Mesh(geometry, material);\n\n    return this.setShape(shape);\n  }\n\n  makeCube() {let color = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0xff0000;\n\n    // create box mesh of edgeLength 1, centered at (0,0,0)\n    const geometry = new THREE.BoxGeometry(1, 1, 1);\n    const material = new THREE.MeshPhongMaterial({ color });\n    const shape = new THREE.Mesh(geometry, material);\n    return this.setShape(shape);\n  }\n\n  setVisible(visible) {\n    if (this.visible == visible) {\n      return;\n    }\n\n    if (visible) {\n      this.viewer.impl.addOverlay(this.overlayName, this.scene);\n    } else {\n      this.viewer.impl.removeOverlay(this.overlayName, this.scene);\n    }\n\n    this.visible = visible;\n\n    // trigger overlay update\n    this.viewer.impl.invalidate(false, false, true);\n\n    return this;\n  }\n\n  update() {\n    // compute screenSize that we get with scaling 1.0\n    const dist = this.viewer.impl.camera.position.distanceTo(this.scene.position);\n    const worldToPixelScale = this.viewer.impl.camera.pixelsPerUnitAtDistance(dist);\n\n    // compute and apply scale in world-space\n    const scale = this.pixelSize / worldToPixelScale;\n    this.scene.scale.set(scale, scale, scale);\n\n    // make sure that scale changes takes effect\n    this.scene.matrixWorldNeedsUpdate = true;\n\n    this.viewer.impl.invalidate(false, false, true);\n  }\n\n  // On camera changes, update scaling to keep constant pixel-size\n  onCameraChange() {\n    this.update();\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VSxDQUFDLElBQUksQ0FBQ2pELEtBQUssQ0FBQ21CLFFBQVEsQ0FBQztJQUM3RSxNQUFNK0IsaUJBQWlCLEdBQUcsSUFBSSxDQUFDMUQsTUFBTSxDQUFDb0IsSUFBSSxDQUFDb0MsTUFBTSxDQUFDRyx1QkFBdUIsQ0FBQ0osSUFBSSxDQUFDOztJQUUvRTtJQUNBLE1BQU1LLEtBQUssR0FBRyxJQUFJLENBQUMzRCxTQUFTLEdBQUd5RCxpQkFBaUI7SUFDaEQsSUFBSSxDQUFDbEQsS0FBSyxDQUFDb0QsS0FBSyxDQUFDL0IsR0FBRyxDQUFDK0IsS0FBSyxFQUFFQSxLQUFLLEVBQUVBLEtBQUssQ0FBQzs7SUFFekM7SUFDQSxJQUFJLENBQUNwRCxLQUFLLENBQUNzQixzQkFBc0IsR0FBRyxJQUFJOztJQUV4QyxJQUFJLENBQUM5QixNQUFNLENBQUNvQixJQUFJLENBQUNrQyxVQUFVLENBQUMsS0FBSyxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUM7RUFDbkQ7O0VBRUE7RUFDQTFDLGNBQWNBLENBQUEsRUFBRztJQUNiLElBQUksQ0FBQ21CLE1BQU0sQ0FBQyxDQUFDO0VBQ2pCO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9FZGl0M0QvR2l6bW8zRC5qcz8zODBiIl0sInNvdXJjZXNDb250ZW50IjpbIlxubGV0IG5leHRJZCA9IDE7XG5cbi8vIEhlbHBlciBjbGFzcyBmb3IgZGlzcGxheWluZyBhIDNEIHNoYXBlIHRoYXQgaXMgc2NhbGVkIHRvIGtlZXAgYXBwcm94aW1hdGVseSBjb25zdGFudCBzY3JlZW4tc2l6ZS5cbi8vIEV4YW1wbGU6XG4vLyAgIGNvbnN0IGdpem1vID0gbmV3IEdpem1vM0Qodmlld2VyKS5tYWtlQ3ViZSgpO1xuLy8gICBnaXptby5zZXRQb3NpdGlvbigxMCwgMTAsIDEwKTtcbi8vICAgZ2l6bW8uc2V0VmlzaWJsZSh0cnVlKTtcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdpem1vM0Qge1xuXG4gICAgLy8gQHBhcmFtIHtWaWV3ZXIzZH0gdmlld2VyXG4gICAgLy8gQHBhcmFtIHtudW1iZXJ9ICAgW3BpeGVsU2l6ZV0gICAtIFNpemUgb2YgdGhlIGdpem1vIGluIHBpeGVsc1xuICAgIC8vIEBwYXJhbSB7VmVjdG9yM30gIFtwb3NdICAgICAgICAgLSBJbml0aWFsIHBvc2l0aW9uLiBEZWZhdWx0ICgwLDAsMClcbiAgICAvLyBAcGFyYW0ge3N0cmluZ30gICBbb3ZlcmxheU5hbWVdIC0gTmFtZSBvZiBhbiAoZXhpc3RpbmcpIHZpZXdlciBvdmVybGF5IHVzZWQgdG8gZGlzcGxheSB0aGUgZ2l6bW8uIElmIG5vdCBzcGVjaWZpZWQsIHRoZSBHaXptbyBjcmVhdGVzIGl0cyBvd24uXG4gICAgY29uc3RydWN0b3Iodmlld2VyLCBwaXhlbFNpemUgPSAzMCwgcG9zID0gbnVsbCwgb3ZlcmxheU5hbWUgPSBudWxsKSB7XG5cbiAgICAgICAgdGhpcy5pZCA9IG5leHRJZCsrO1xuXG4gICAgICAgIHRoaXMudmlld2VyID0gdmlld2VyO1xuXG4gICAgICAgIC8vIFRoZSBzaGFwZSBpcyBhdXRvLXNjYWxlZCBpbiBhIHdheSB0aGF0IHRoZSBwcm9qZWN0ZWQgc2NyZWVuLXNpemUgb2YgdGhlIHVuaXRCb3ggZGlhZ29uYWxcbiAgICAgICAgLy8ga2VlcHMgZXF1YWwgdG8gdGhpcyB2YWx1ZS5cbiAgICAgICAgdGhpcy5waXhlbFNpemUgPSBwaXhlbFNpemU7XG5cbiAgICAgICAgLy8gQ29udGFpbmVyIGZvciB0aGUgZ2l6bW8gc2hhcGUuIE1hdHJpeCBvZiB0aGlzIHNjZW5lIGlzIGNvbnRyb2xsZWQgYnkgdGhlIGdpem1vXG4gICAgICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcblxuICAgICAgICAvLyBTaGFwZSBvciBzY2VuZSB0byBiZSBkaXNwbGF5ZWQuIEJCb3ggc2hvdWxkIGJlIHRoZSB1bml0IGJveCBbLTAuNSwgMC41XV4yLCBzbyB0aGF0XG4gICAgICAgIC8vIHV0by1zY2FsaW5nIHdvcmtzIHByb3Blcmx5LlxuICAgICAgICB0aGlzLnNoYXBlID0gbnVsbDtcblxuICAgICAgICAvLyBDb25uZWN0IGV2ZW50IGxpc3RlbmVyXG4gICAgICAgIHRoaXMub25DYW1lcmFDaGFuZ2UgPSB0aGlzLm9uQ2FtZXJhQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMudmlld2VyLmFkZEV2ZW50TGlzdGVuZXIoQXV0b2Rlc2suVmlld2luZy5DQU1FUkFfQ0hBTkdFX0VWRU5ULCB0aGlzLm9uQ2FtZXJhQ2hhbmdlKTtcblxuICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCBtYXRyaXggaXMgcmVjb21wdXRlZCBhZnRlciBwb3NpdGlvbi9zY2FsZSBjaGFuZ2VzLlxuICAgICAgICB0aGlzLnNjZW5lLm1hdHJpeEF1dG9VcGRhdGUgPSB0cnVlO1xuXG4gICAgICAgIC8vIE92ZXJsYXkgbmFtZSB0aGF0IHdlIHVzZSB0byBkaXNwbGF5IHRoZSBnaXptb1xuICAgICAgICB0aGlzLm92ZXJsYXlOYW1lID0gb3ZlcmxheU5hbWU7XG5cbiAgICAgICAgLy8gY3JlYXRlIG93biBvdmVybGF5IGlmIG5vbmUgc3BlY2lmaWVkXG4gICAgICAgIHRoaXMub3ZlcmxheU93bmVkID0gIW92ZXJsYXlOYW1lO1xuICAgICAgICBpZiAodGhpcy5vdmVybGF5T3duZWQpIHtcbiAgICAgICAgICAgIHRoaXMub3ZlcmxheU5hbWUgPSBgR2l6bW8zRF9PdmVybGF5XyR7dGhpcy5pZH1gO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXIuaW1wbC5jcmVhdGVPdmVybGF5U2NlbmUodGhpcy5vdmVybGF5TmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTtcblxuICAgICAgICBpZiAocG9zKSB7XG4gICAgICAgICAgICB0aGlzLnNldFBvc2l0aW9uKHBvcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRQb3NpdGlvbih4LCB5LCB6KSB7XG5cbiAgICAgICAgLy8gU3VwcG9lciBjYWxsIHdpdGggc2luZ2xlIFZlYzMgcGFyYW1cbiAgICAgICAgaWYgKCh0eXBlb2YgeCkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICB0aGlzLnNjZW5lLnBvc2l0aW9uLmNvcHkoeCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNjZW5lLnBvc2l0aW9uLnNldCh4LCB5LCB6KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNjZW5lLm1hdHJpeFdvcmxkTmVlZHNVcGRhdGU7XG5cbiAgICAgICAgdGhpcy51cGRhdGUoKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICBkdG9yKCkge1xuICAgICAgICB0aGlzLnZpZXdlci5yZW1vdmVFdmVudExpc3RlbmVyKEF1dG9kZXNrLlZpZXdpbmcuQ0FNRVJBX0NIQU5HRV9FVkVOVCwgdGhpcy5vbkNhbWVyYUNoYW5nZSk7XG5cbiAgICAgICAgaWYgKHRoaXMub3ZlcmxheU93bmVkKSB7XG4gICAgICAgICAgICB0aGlzLnZpZXdlci5pbXBsLnJlbW92ZU92ZXJsYXlTY2VuZSh0aGlzLm92ZXJsYXlOYW1lKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNsZWFyU2hhcGUoKSB7XG4gICAgICAgIGlmICh0aGlzLnNoYXBlKSB7XG4gICAgICAgICAgICB0aGlzLnNjZW5lLnJlbW92ZSh0aGlzLnNoYXBlKTtcbiAgICAgICAgICAgIHRoaXMuc2hhcGUgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gU2V0IGEgZ2l6bW8gc2hhcGUgdG8gZGlzcGxheS4gTXVzdCBiZSBzY2FsZWQgdG8gdW5pdEJveC5cbiAgICBzZXRTaGFwZShzaGFwZSkge1xuICAgICAgICB0aGlzLmNsZWFyU2hhcGUoKTtcbiAgICAgICAgdGhpcy5zaGFwZSA9IHNoYXBlO1xuICAgICAgICB0aGlzLnNjZW5lLmFkZChzaGFwZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIFNldCBzaGFwZSB0byBzcGhlcmVcbiAgICBtYWtlU3BoZXJlKGNvbG9yID0gMHhmZjAwMDApIHtcblxuICAgICAgICAvLyBjcmVhdGUgc3BoZXJlIG1lc2gsIGNlbnRlcmVkIGF0ICgwLDAsMClcbiAgICAgICAgY29uc3QgcmFkaXVzID0gMC41O1xuICAgICAgICBjb25zdCB3aWR0aFNlZ21lbnRzICA9IDIyO1xuICAgICAgICBjb25zdCBoZWlnaHRTZWdtZW50cyA9IDE2O1xuICAgICAgICBjb25zdCBnZW9tZXRyeSA9IG5ldyBUSFJFRS5TcGhlcmVHZW9tZXRyeShyYWRpdXMsIHdpZHRoU2VnbWVudHMsIGhlaWdodFNlZ21lbnRzKTtcbiAgICAgICAgY29uc3QgbWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaFBob25nTWF0ZXJpYWwoIHsgY29sb3IgfSApO1xuICAgICAgICBjb25zdCBzaGFwZSA9IG5ldyBUSFJFRS5NZXNoKGdlb21ldHJ5LCBtYXRlcmlhbCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0U2hhcGUoc2hhcGUpO1xuICAgIH1cblxuICAgIG1ha2VDdWJlKGNvbG9yID0gMHhmZjAwMDApIHtcblxuICAgICAgICAvLyBjcmVhdGUgYm94IG1lc2ggb2YgZWRnZUxlbmd0aCAxLCBjZW50ZXJlZCBhdCAoMCwwLDApXG4gICAgICAgIGNvbnN0IGdlb21ldHJ5ID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KDEsIDEsIDEpO1xuICAgICAgICBjb25zdCBtYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoUGhvbmdNYXRlcmlhbCggeyBjb2xvciB9ICk7XG4gICAgICAgIGNvbnN0IHNoYXBlID0gbmV3IFRIUkVFLk1lc2goZ2VvbWV0cnksIG1hdGVyaWFsKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0U2hhcGUoc2hhcGUpO1xuICAgIH1cblxuICAgIHNldFZpc2libGUodmlzaWJsZSkge1xuICAgICAgICBpZiAodGhpcy52aXNpYmxlID09IHZpc2libGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2aXNpYmxlKSB7XG4gICAgICAgICAgICB0aGlzLnZpZXdlci5pbXBsLmFkZE92ZXJsYXkodGhpcy5vdmVybGF5TmFtZSwgdGhpcy5zY2VuZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnZpZXdlci5pbXBsLnJlbW92ZU92ZXJsYXkodGhpcy5vdmVybGF5TmFtZSwgdGhpcy5zY2VuZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnZpc2libGUgPSB2aXNpYmxlO1xuXG4gICAgICAgIC8vIHRyaWdnZXIgb3ZlcmxheSB1cGRhdGVcbiAgICAgICAgdGhpcy52aWV3ZXIuaW1wbC5pbnZhbGlkYXRlKGZhbHNlLCBmYWxzZSwgdHJ1ZSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgdXBkYXRlKCkge1xuICAgICAgICAvLyBjb21wdXRlIHNjcmVlblNpemUgdGhhdCB3ZSBnZXQgd2l0aCBzY2FsaW5nIDEuMFxuICAgICAgICBjb25zdCBkaXN0ID0gdGhpcy52aWV3ZXIuaW1wbC5jYW1lcmEucG9zaXRpb24uZGlzdGFuY2VUbyh0aGlzLnNjZW5lLnBvc2l0aW9uKTtcbiAgICAgICAgY29uc3Qgd29ybGRUb1BpeGVsU2NhbGUgPSB0aGlzLnZpZXdlci5pbXBsLmNhbWVyYS5waXhlbHNQZXJVbml0QXREaXN0YW5jZShkaXN0KTtcblxuICAgICAgICAvLyBjb21wdXRlIGFuZCBhcHBseSBzY2FsZSBpbiB3b3JsZC1zcGFjZVxuICAgICAgICBjb25zdCBzY2FsZSA9IHRoaXMucGl4ZWxTaXplIC8gd29ybGRUb1BpeGVsU2NhbGU7XG4gICAgICAgIHRoaXMuc2NlbmUuc2NhbGUuc2V0KHNjYWxlLCBzY2FsZSwgc2NhbGUpO1xuXG4gICAgICAgIC8vIG1ha2Ugc3VyZSB0aGF0IHNjYWxlIGNoYW5nZXMgdGFrZXMgZWZmZWN0XG4gICAgICAgIHRoaXMuc2NlbmUubWF0cml4V29ybGROZWVkc1VwZGF0ZSA9IHRydWU7XG5cbiAgICAgICAgdGhpcy52aWV3ZXIuaW1wbC5pbnZhbGlkYXRlKGZhbHNlLCBmYWxzZSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgLy8gT24gY2FtZXJhIGNoYW5nZXMsIHVwZGF0ZSBzY2FsaW5nIHRvIGtlZXAgY29uc3RhbnQgcGl4ZWwtc2l6ZVxuICAgIG9uQ2FtZXJhQ2hhbmdlKCkge1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6WyJuZXh0SWQiLCJHaXptbzNEIiwiY29uc3RydWN0b3IiLCJ2aWV3ZXIiLCJwaXhlbFNpemUiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJwb3MiLCJvdmVybGF5TmFtZSIsImlkIiwic2NlbmUiLCJUSFJFRSIsIlNjZW5lIiwic2hhcGUiLCJvbkNhbWVyYUNoYW5nZSIsImJpbmQiLCJhZGRFdmVudExpc3RlbmVyIiwiQXV0b2Rlc2siLCJWaWV3aW5nIiwiQ0FNRVJBX0NIQU5HRV9FVkVOVCIsIm1hdHJpeEF1dG9VcGRhdGUiLCJvdmVybGF5T3duZWQiLCJpbXBsIiwiY3JlYXRlT3ZlcmxheVNjZW5lIiwidmlzaWJsZSIsInNldFBvc2l0aW9uIiwieCIsInkiLCJ6IiwicG9zaXRpb24iLCJjb3B5Iiwic2V0IiwibWF0cml4V29ybGROZWVkc1VwZGF0ZSIsInVwZGF0ZSIsImR0b3IiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicmVtb3ZlT3ZlcmxheVNjZW5lIiwiY2xlYXJTaGFwZSIsInJlbW92ZSIsInNldFNoYXBlIiwiYWRkIiwibWFrZVNwaGVyZSIsImNvbG9yIiwicmFkaXVzIiwid2lkdGhTZWdtZW50cyIsImhlaWdodFNlZ21lbnRzIiwiZ2VvbWV0cnkiLCJTcGhlcmVHZW9tZXRyeSIsIm1hdGVyaWFsIiwiTWVzaFBob25nTWF0ZXJpYWwiLCJNZXNoIiwibWFrZUN1YmUiLCJCb3hHZW9tZXRyeSIsInNldFZpc2libGUiLCJhZGRPdmVybGF5IiwicmVtb3ZlT3ZlcmxheSIsImludmFsaWRhdGUiLCJkaXN0IiwiY2FtZXJhIiwiZGlzdGFuY2VUbyIsIndvcmxkVG9QaXhlbFNjYWxlIiwicGl4ZWxzUGVyVW5pdEF0RGlzdGFuY2UiLCJzY2FsZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/Edit3D/Gizmo3D.js\n");

                /***/
            }),

        /***/
        "./extensions/Edit3D/Label3D.js":
            /*!**************************************!*\
              !*** ./extensions/Edit3D/Label3D.js ***!
              \**************************************/
            /***/
            ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

                "use strict";
                eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Label3D)\n/* harmony export */ });\n\nconst av = Autodesk.Viewing;\nconst avp = Autodesk.Viewing.Private;\n\n// Given two points p1, p2 in worldSpace, this function computes\n// the pixel distance of their screen projections.\nconst getPixelDistance = (viewer, p1, p2) => {\n\n  const p1Screen = viewer.impl.worldToClient(p1);\n  const p2Screen = viewer.impl.worldToClient(p2);\n\n  const dx = p2Screen.x - p1Screen.x;\n  const dy = p2Screen.y - p1Screen.y;\n  return Math.sqrt(dx * dx + dy * dy);\n};\n\nconst Events = {\n  DRAG_START: \"dragStart\",\n  DRAG_END: \"dragEnd\"\n};\n\n// A Label3D is an html div whose position is synchronized with a fixed world-space position in LMV.\nclass Label3D extends Autodesk.Viewing.EventDispatcher {\n\n  // @param {Viewer3D}      viewer\n  // @param {THREE.Vector3} [pos3D] - By default (0,0,0). Can be set later by changing this.pos3D.\n  // @param {string}        [text]  - If undefined, label will be empty/invisible by default and you have to configure this.container yourself.\n  constructor(viewer) {let pos3D = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : new THREE.Vector3();let text = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '<Empty>';\n    super();\n    this.viewer = viewer;\n    this.pos3D = pos3D;\n    this.pos2D = new THREE.Vector3(); // updated automatically. z is the depth value\n    this.draggable = false;\n\n    this.setGlobalManager(viewer.globalManager);\n\n    // keep position in-sync with camera changes\n    this.cameraChangeCb = this.update.bind(this);\n    this.viewer.addEventListener(av.CAMERA_CHANGE_EVENT, this.cameraChangeCb);\n    this.viewer.addEventListener(av.VIEWER_RESIZE_EVENT, this.cameraChangeCb);\n\n    // Create container\n    const document = viewer.canvasWrap.ownerDocument; // (might be != global document in popout scenarios)\n    this.container = document.createElement('div');\n\n    // Note: It's essential that we add it to viewer.canvasWrap instead of viewer.container:\n    //       ToolController listens to events on canvasWrap. Therefore, if we would add\n    //       it to viewer.container, all mouse events captured would never reach the ToolController\n    //       no matter whether the gizmo handles them or not.\n    viewer.canvasWrap.appendChild(this.container);\n\n    // For fadeIn/Out effects\n    const setOpacity = (t) => {\n      this.container.style.opacity = t;\n    };\n    this.opacityParam = new avp.AnimatedParam(0.0, setOpacity, 0.5);\n\n    // Initial fade-in\n    this.opacityParam.fadeTo(1.0);\n\n    // We control position via transform. So, left/top usually keep (0,0)\n    this.container.style.left = '0px';\n    this.container.style.top = '0px';\n    this.container.style.position = 'absolute';\n    this.container.style.pointerEvents = 'none';\n\n    // Only used for text labels\n    this.textDiv = null;\n    if (text) {\n      this.setText(text);\n    }\n\n    // Level-of-detail (optional)\n    this.worldBox = null;\n    this.minPixels = 0;\n\n    // Update position and fade-in\n    this.setVisible(true);\n\n    this.onMouseDown = this.onMouseDown.bind(this);\n  }\n\n  // Decides if the label should be shown or hidden.\n  // We hide the label the projected box diagonal falls below this.minPixels.\n  shouldBeHidden() {\n    if (!this.worldBox) {\n      return false;\n    }\n\n    const boxSizeScreen = getPixelDistance(this.viewer, this.worldBox.min, this.worldBox.max);\n    return boxSizeScreen < this.minPixels;\n  }\n\n  // Optional: WorldBox of the annotated object. Used for level-of-detail: We only show the label\n  //           if the projected screen-size of the box is >= a given minimum pixel size.\n  // @param {Box3}   worldBox\n  // @param {number} minPixels\n  setWorldBox(box, minPixels) {\n    this.worldBox = box;\n    this.minPixels = minPixels;\n    this.update(); // hide this label immediately if projected world-box is very small\n  }\n\n  // Configure this label to display text\n  initTextLabel() {\n\n    // Create textDiv child div\n    const document = this.viewer.container.ownerDocument;\n    this.textDiv = document.createElement('div');\n    this.container.appendChild(this.textDiv);\n\n    // Use measure-tool styles by default\n    this.container.classList.add('measure-length');\n    this.container.classList.add('visible');\n    this.textDiv.classList.add('measure-length-text');\n  }\n\n  setText(text) {\n    if (!this.textDiv) {\n      this.initTextLabel();\n    }\n    this.textDiv.textContent = Autodesk.Viewing.i18n.translate(text);\n  }\n\n  dtor() {\n    this.container.remove();\n    this.viewer.removeEventListener(av.CAMERA_CHANGE_EVENT, this.cameraChangeCb);\n    this.viewer.removeEventListener(av.VIEWER_RESIZE_EVENT, this.cameraChangeCb);\n  }\n\n  // To change the position, just modify this.pos3D directly and call update().\n  update() {\n    // Get canvas position corresponding to this.pos3D\n    const { x, y } = this.viewer.impl.worldToClient(this.pos3D);\n\n    // Transform the div, so that its center is anchored in (x,y)\n    this.container.style.transform = `translate(calc(${x}px - 50%), calc(${y}px - 50%))`;\n\n    // Hide label if the annotated object is small on screen\n    const hidden = !this.visible || this.shouldBeHidden();\n\n    // If the label should be visible, immediately restore the container visibility, so the fade-in will be displayed.\n    if (!hidden) {\n      this.changeContainerVisibility(!hidden);\n    }\n\n    // this.opacityParam.skipAnim();\n    this.opacityParam.fadeTo(hidden ? 0.0 : 1.0, () => {\n      // If the label should be hidden, change container visibility only after the fade-out animation finished.\n      // This is needed in order that the element won't be touchable while hidden.\n      this.changeContainerVisibility(!hidden);\n    });\n  }\n\n  // Necessary in addition to the opacity change, in order to remove from the DOM rendering.\n  changeContainerVisibility(show) {\n    if (!show && !this.styleHidden) {\n      this.styleHidden = true;\n      this.container.style.display = 'none';\n    } else if (show && this.styleHidden) {\n      this.styleHidden = false;\n      this.container.style.display = 'block';\n    }\n  }\n\n  setPosition(pos) {\n    this.pos3D.copy(pos);\n    this.update();\n  }\n\n  setVisible(visible) {\n    this.visible = visible;\n    this.update();\n  }\n\n  // Fade out and dispose label when done\n  dispose() {\n    this.setVisible(false);\n\n    // Make sure that we clean up when fading is done.\n    window.setTimeout(() => this.dtor(), 1000 * this.opacityParam.animTime);\n  }\n\n  // @param {number} offset - Optional: Vertical offset in screen-pixels. Positive values shift down.\n  setVerticalOffset(offset) {\n    this.container.style.top = offset + 'px';\n  }\n\n  onMouseDown(event) {\n    this.container.style.cursor = \"grabbing\";\n\n    this.viewer.toolController.__clientToCanvasCoords(event);\n\n    this.fireEvent({ type: Events.DRAG_START, event });\n\n    const handleMouseUp = (e) => {\n      this.onMouseUp(e);\n      this.removeDocumentEventListener(\"mouseup\", handleMouseUp);\n    };\n\n    this.addDocumentEventListener(\"mouseup\", handleMouseUp);\n  }\n\n  onMouseUp(event) {\n    this.container.style.cursor = \"grab\";\n\n    this.viewer.toolController.__clientToCanvasCoords(event);\n\n    this.fireEvent({ type: Events.DRAG_END, event });\n  }\n\n  setDraggable(draggable) {\n    if (draggable && !this.draggable) {\n      this.container.addEventListener(\"mousedown\", this.onMouseDown);\n      this.container.style.cursor = \"grab\";\n      this.container.style.pointerEvents = 'auto';\n    } else if (!draggable && this.draggable) {\n      this.container.removeEventListener(\"mousedown\", this.onMouseDown);\n      this.container.style.cursor = \"\";\n      this.container.style.pointerEvents = 'none';\n    }\n\n    this.draggable = draggable;\n  }\n}\n\nav.GlobalManagerMixin.call(Label3D.prototype);\n\nLabel3D.Events = Events;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFFQSxJQUFJLENBQUN6QixTQUFTLEdBQUdBLFNBQVM7RUFDOUI7QUFDSjs7QUFFQWpDLEVBQUUsQ0FBQzRHLGtCQUFrQixDQUFDQyxJQUFJLENBQUN2RixPQUFPLENBQUN3RixTQUFTLENBQUM7O0FBRTdDeEYsT0FBTyxDQUFDSCxNQUFNLEdBQUdBLE1BQU0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9FZGl0M0QvTGFiZWwzRC5qcz9iMDdkIl0sInNvdXJjZXNDb250ZW50IjpbIlxuY29uc3QgYXYgPSBBdXRvZGVzay5WaWV3aW5nO1xuY29uc3QgYXZwID0gQXV0b2Rlc2suVmlld2luZy5Qcml2YXRlO1xuXG4vLyBHaXZlbiB0d28gcG9pbnRzIHAxLCBwMiBpbiB3b3JsZFNwYWNlLCB0aGlzIGZ1bmN0aW9uIGNvbXB1dGVzXG4vLyB0aGUgcGl4ZWwgZGlzdGFuY2Ugb2YgdGhlaXIgc2NyZWVuIHByb2plY3Rpb25zLlxuY29uc3QgZ2V0UGl4ZWxEaXN0YW5jZSA9ICh2aWV3ZXIsIHAxLCBwMikgPT4ge1xuXG4gICAgY29uc3QgcDFTY3JlZW4gPSB2aWV3ZXIuaW1wbC53b3JsZFRvQ2xpZW50KHAxKTtcbiAgICBjb25zdCBwMlNjcmVlbiA9IHZpZXdlci5pbXBsLndvcmxkVG9DbGllbnQocDIpO1xuXG4gICAgY29uc3QgZHggPSBwMlNjcmVlbi54IC0gcDFTY3JlZW4ueDtcbiAgICBjb25zdCBkeSA9IHAyU2NyZWVuLnkgLSBwMVNjcmVlbi55O1xuICAgIHJldHVybiBNYXRoLnNxcnQoZHggKiBkeCArIGR5ICogZHkpO1xufTtcblxuY29uc3QgRXZlbnRzID0ge1xuICAgIERSQUdfU1RBUlQ6IFwiZHJhZ1N0YXJ0XCIsXG4gICAgRFJBR19FTkQ6IFwiZHJhZ0VuZFwiLFxufTtcblxuLy8gQSBMYWJlbDNEIGlzIGFuIGh0bWwgZGl2IHdob3NlIHBvc2l0aW9uIGlzIHN5bmNocm9uaXplZCB3aXRoIGEgZml4ZWQgd29ybGQtc3BhY2UgcG9zaXRpb24gaW4gTE1WLlxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGFiZWwzRCBleHRlbmRzIEF1dG9kZXNrLlZpZXdpbmcuRXZlbnREaXNwYXRjaGVyIHtcblxuICAgIC8vIEBwYXJhbSB7Vmlld2VyM0R9ICAgICAgdmlld2VyXG4gICAgLy8gQHBhcmFtIHtUSFJFRS5WZWN0b3IzfSBbcG9zM0RdIC0gQnkgZGVmYXVsdCAoMCwwLDApLiBDYW4gYmUgc2V0IGxhdGVyIGJ5IGNoYW5naW5nIHRoaXMucG9zM0QuXG4gICAgLy8gQHBhcmFtIHtzdHJpbmd9ICAgICAgICBbdGV4dF0gIC0gSWYgdW5kZWZpbmVkLCBsYWJlbCB3aWxsIGJlIGVtcHR5L2ludmlzaWJsZSBieSBkZWZhdWx0IGFuZCB5b3UgaGF2ZSB0byBjb25maWd1cmUgdGhpcy5jb250YWluZXIgeW91cnNlbGYuXG4gICAgY29uc3RydWN0b3Iodmlld2VyLCBwb3MzRCA9IG5ldyBUSFJFRS5WZWN0b3IzKCksIHRleHQgPSAnPEVtcHR5PicpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy52aWV3ZXIgPSB2aWV3ZXI7XG4gICAgICAgIHRoaXMucG9zM0QgPSBwb3MzRDtcbiAgICAgICAgdGhpcy5wb3MyRCA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7IC8vIHVwZGF0ZWQgYXV0b21hdGljYWxseS4geiBpcyB0aGUgZGVwdGggdmFsdWVcbiAgICAgICAgdGhpcy5kcmFnZ2FibGUgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLnNldEdsb2JhbE1hbmFnZXIodmlld2VyLmdsb2JhbE1hbmFnZXIpO1xuXG4gICAgICAgIC8vIGtlZXAgcG9zaXRpb24gaW4tc3luYyB3aXRoIGNhbWVyYSBjaGFuZ2VzXG4gICAgICAgIHRoaXMuY2FtZXJhQ2hhbmdlQ2IgPSB0aGlzLnVwZGF0ZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnZpZXdlci5hZGRFdmVudExpc3RlbmVyKGF2LkNBTUVSQV9DSEFOR0VfRVZFTlQsIHRoaXMuY2FtZXJhQ2hhbmdlQ2IpO1xuICAgICAgICB0aGlzLnZpZXdlci5hZGRFdmVudExpc3RlbmVyKGF2LlZJRVdFUl9SRVNJWkVfRVZFTlQsIHRoaXMuY2FtZXJhQ2hhbmdlQ2IpO1xuXG4gICAgICAgIC8vIENyZWF0ZSBjb250YWluZXJcbiAgICAgICAgY29uc3QgZG9jdW1lbnQgPSB2aWV3ZXIuY2FudmFzV3JhcC5vd25lckRvY3VtZW50OyAvLyAobWlnaHQgYmUgIT0gZ2xvYmFsIGRvY3VtZW50IGluIHBvcG91dCBzY2VuYXJpb3MpXG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cbiAgICAgICAgLy8gTm90ZTogSXQncyBlc3NlbnRpYWwgdGhhdCB3ZSBhZGQgaXQgdG8gdmlld2VyLmNhbnZhc1dyYXAgaW5zdGVhZCBvZiB2aWV3ZXIuY29udGFpbmVyOlxuICAgICAgICAvLyAgICAgICBUb29sQ29udHJvbGxlciBsaXN0ZW5zIHRvIGV2ZW50cyBvbiBjYW52YXNXcmFwLiBUaGVyZWZvcmUsIGlmIHdlIHdvdWxkIGFkZFxuICAgICAgICAvLyAgICAgICBpdCB0byB2aWV3ZXIuY29udGFpbmVyLCBhbGwgbW91c2UgZXZlbnRzIGNhcHR1cmVkIHdvdWxkIG5ldmVyIHJlYWNoIHRoZSBUb29sQ29udHJvbGxlclxuICAgICAgICAvLyAgICAgICBubyBtYXR0ZXIgd2hldGhlciB0aGUgZ2l6bW8gaGFuZGxlcyB0aGVtIG9yIG5vdC5cbiAgICAgICAgdmlld2VyLmNhbnZhc1dyYXAuYXBwZW5kQ2hpbGQodGhpcy5jb250YWluZXIpO1xuXG4gICAgICAgIC8vIEZvciBmYWRlSW4vT3V0IGVmZmVjdHNcbiAgICAgICAgY29uc3Qgc2V0T3BhY2l0eSA9IHQgPT4ge1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUub3BhY2l0eSA9IHQ7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMub3BhY2l0eVBhcmFtID0gbmV3IGF2cC5BbmltYXRlZFBhcmFtKDAuMCwgc2V0T3BhY2l0eSwgMC41KTtcblxuICAgICAgICAvLyBJbml0aWFsIGZhZGUtaW5cbiAgICAgICAgdGhpcy5vcGFjaXR5UGFyYW0uZmFkZVRvKDEuMCk7XG5cbiAgICAgICAgLy8gV2UgY29udHJvbCBwb3NpdGlvbiB2aWEgdHJhbnNmb3JtLiBTbywgbGVmdC90b3AgdXN1YWxseSBrZWVwICgwLDApXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmxlZnQgPSAnMHB4JztcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUudG9wID0gJzBweCc7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcblxuICAgICAgICAvLyBPbmx5IHVzZWQgZm9yIHRleHQgbGFiZWxzXG4gICAgICAgIHRoaXMudGV4dERpdiA9IG51bGw7XG4gICAgICAgIGlmICh0ZXh0KSB7XG4gICAgICAgICAgICB0aGlzLnNldFRleHQodGV4dCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBMZXZlbC1vZi1kZXRhaWwgKG9wdGlvbmFsKVxuICAgICAgICB0aGlzLndvcmxkQm94ID0gbnVsbDtcbiAgICAgICAgdGhpcy5taW5QaXhlbHMgPSAwO1xuXG4gICAgICAgIC8vIFVwZGF0ZSBwb3NpdGlvbiBhbmQgZmFkZS1pblxuICAgICAgICB0aGlzLnNldFZpc2libGUodHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5vbk1vdXNlRG93biA9IHRoaXMub25Nb3VzZURvd24uYmluZCh0aGlzKTtcbiAgICB9XG5cbiAgICAvLyBEZWNpZGVzIGlmIHRoZSBsYWJlbCBzaG91bGQgYmUgc2hvd24gb3IgaGlkZGVuLlxuICAgIC8vIFdlIGhpZGUgdGhlIGxhYmVsIHRoZSBwcm9qZWN0ZWQgYm94IGRpYWdvbmFsIGZhbGxzIGJlbG93IHRoaXMubWluUGl4ZWxzLlxuICAgIHNob3VsZEJlSGlkZGVuKCkge1xuICAgICAgICBpZiAoIXRoaXMud29ybGRCb3gpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGJveFNpemVTY3JlZW4gPSBnZXRQaXhlbERpc3RhbmNlKHRoaXMudmlld2VyLCB0aGlzLndvcmxkQm94Lm1pbiwgdGhpcy53b3JsZEJveC5tYXgpO1xuICAgICAgICByZXR1cm4gYm94U2l6ZVNjcmVlbiA8IHRoaXMubWluUGl4ZWxzO1xuICAgIH1cblxuICAgIC8vIE9wdGlvbmFsOiBXb3JsZEJveCBvZiB0aGUgYW5ub3RhdGVkIG9iamVjdC4gVXNlZCBmb3IgbGV2ZWwtb2YtZGV0YWlsOiBXZSBvbmx5IHNob3cgdGhlIGxhYmVsXG4gICAgLy8gICAgICAgICAgIGlmIHRoZSBwcm9qZWN0ZWQgc2NyZWVuLXNpemUgb2YgdGhlIGJveCBpcyA+PSBhIGdpdmVuIG1pbmltdW0gcGl4ZWwgc2l6ZS5cbiAgICAvLyBAcGFyYW0ge0JveDN9ICAgd29ybGRCb3hcbiAgICAvLyBAcGFyYW0ge251bWJlcn0gbWluUGl4ZWxzXG4gICAgc2V0V29ybGRCb3goYm94LCBtaW5QaXhlbHMpIHtcbiAgICAgICAgdGhpcy53b3JsZEJveCAgPSBib3g7XG4gICAgICAgIHRoaXMubWluUGl4ZWxzID0gbWluUGl4ZWxzO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpOyAvLyBoaWRlIHRoaXMgbGFiZWwgaW1tZWRpYXRlbHkgaWYgcHJvamVjdGVkIHdvcmxkLWJveCBpcyB2ZXJ5IHNtYWxsXG4gICAgfVxuXG4gICAgLy8gQ29uZmlndXJlIHRoaXMgbGFiZWwgdG8gZGlzcGxheSB0ZXh0XG4gICAgaW5pdFRleHRMYWJlbCgpIHtcblxuICAgICAgICAvLyBDcmVhdGUgdGV4dERpdiBjaGlsZCBkaXZcbiAgICAgICAgY29uc3QgZG9jdW1lbnQgPSB0aGlzLnZpZXdlci5jb250YWluZXIub3duZXJEb2N1bWVudDtcbiAgICAgICAgdGhpcy50ZXh0RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMudGV4dERpdik7XG5cbiAgICAgICAgLy8gVXNlIG1lYXN1cmUtdG9vbCBzdHlsZXMgYnkgZGVmYXVsdFxuICAgICAgICB0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdtZWFzdXJlLWxlbmd0aCcpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XG4gICAgICAgIHRoaXMudGV4dERpdi5jbGFzc0xpc3QuYWRkKCdtZWFzdXJlLWxlbmd0aC10ZXh0Jyk7XG4gICAgfVxuXG4gICAgc2V0VGV4dCh0ZXh0KSB7XG4gICAgICAgIGlmICghdGhpcy50ZXh0RGl2KSB7XG4gICAgICAgICAgICB0aGlzLmluaXRUZXh0TGFiZWwoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRleHREaXYudGV4dENvbnRlbnQgPSBBdXRvZGVzay5WaWV3aW5nLmkxOG4udHJhbnNsYXRlKHRleHQpO1xuICAgIH1cblxuICAgIGR0b3IoKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnJlbW92ZSgpO1xuICAgICAgICB0aGlzLnZpZXdlci5yZW1vdmVFdmVudExpc3RlbmVyKGF2LkNBTUVSQV9DSEFOR0VfRVZFTlQsIHRoaXMuY2FtZXJhQ2hhbmdlQ2IpO1xuICAgICAgICB0aGlzLnZpZXdlci5yZW1vdmVFdmVudExpc3RlbmVyKGF2LlZJRVdFUl9SRVNJWkVfRVZFTlQsIHRoaXMuY2FtZXJhQ2hhbmdlQ2IpO1xuICAgIH1cblxuICAgIC8vIFRvIGNoYW5nZSB0aGUgcG9zaXRpb24sIGp1c3QgbW9kaWZ5IHRoaXMucG9zM0QgZGlyZWN0bHkgYW5kIGNhbGwgdXBkYXRlKCkuXG4gICAgdXBkYXRlKCkge1xuICAgICAgICAvLyBHZXQgY2FudmFzIHBvc2l0aW9uIGNvcnJlc3BvbmRpbmcgdG8gdGhpcy5wb3MzRFxuICAgICAgICBjb25zdCB7eCwgeX0gPSB0aGlzLnZpZXdlci5pbXBsLndvcmxkVG9DbGllbnQodGhpcy5wb3MzRCk7XG5cbiAgICAgICAgLy8gVHJhbnNmb3JtIHRoZSBkaXYsIHNvIHRoYXQgaXRzIGNlbnRlciBpcyBhbmNob3JlZCBpbiAoeCx5KVxuICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKGNhbGMoJHt4fXB4IC0gNTAlKSwgY2FsYygke3l9cHggLSA1MCUpKWA7XG5cbiAgICAgICAgLy8gSGlkZSBsYWJlbCBpZiB0aGUgYW5ub3RhdGVkIG9iamVjdCBpcyBzbWFsbCBvbiBzY3JlZW5cbiAgICAgICAgY29uc3QgaGlkZGVuID0gIXRoaXMudmlzaWJsZSB8fCB0aGlzLnNob3VsZEJlSGlkZGVuKCk7XG5cbiAgICAgICAgLy8gSWYgdGhlIGxhYmVsIHNob3VsZCBiZSB2aXNpYmxlLCBpbW1lZGlhdGVseSByZXN0b3JlIHRoZSBjb250YWluZXIgdmlzaWJpbGl0eSwgc28gdGhlIGZhZGUtaW4gd2lsbCBiZSBkaXNwbGF5ZWQuXG4gICAgICAgIGlmICghaGlkZGVuKSB7XG4gICAgICAgICAgICB0aGlzLmNoYW5nZUNvbnRhaW5lclZpc2liaWxpdHkoIWhpZGRlbik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0aGlzLm9wYWNpdHlQYXJhbS5za2lwQW5pbSgpO1xuICAgICAgICB0aGlzLm9wYWNpdHlQYXJhbS5mYWRlVG8oaGlkZGVuID8gMC4wIDogMS4wLCAoKSA9PiB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgbGFiZWwgc2hvdWxkIGJlIGhpZGRlbiwgY2hhbmdlIGNvbnRhaW5lciB2aXNpYmlsaXR5IG9ubHkgYWZ0ZXIgdGhlIGZhZGUtb3V0IGFuaW1hdGlvbiBmaW5pc2hlZC5cbiAgICAgICAgICAgIC8vIFRoaXMgaXMgbmVlZGVkIGluIG9yZGVyIHRoYXQgdGhlIGVsZW1lbnQgd29uJ3QgYmUgdG91Y2hhYmxlIHdoaWxlIGhpZGRlbi5cbiAgICAgICAgICAgIHRoaXMuY2hhbmdlQ29udGFpbmVyVmlzaWJpbGl0eSghaGlkZGVuKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gTmVjZXNzYXJ5IGluIGFkZGl0aW9uIHRvIHRoZSBvcGFjaXR5IGNoYW5nZSwgaW4gb3JkZXIgdG8gcmVtb3ZlIGZyb20gdGhlIERPTSByZW5kZXJpbmcuXG4gICAgY2hhbmdlQ29udGFpbmVyVmlzaWJpbGl0eShzaG93KSB7XG4gICAgICAgIGlmICghc2hvdyAmJiAhdGhpcy5zdHlsZUhpZGRlbikge1xuICAgICAgICAgICAgdGhpcy5zdHlsZUhpZGRlbiA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB9IGVsc2UgaWYgKHNob3cgJiYgdGhpcy5zdHlsZUhpZGRlbikge1xuICAgICAgICAgICAgdGhpcy5zdHlsZUhpZGRlbiA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRQb3NpdGlvbihwb3MpIHtcbiAgICAgICAgdGhpcy5wb3MzRC5jb3B5KHBvcyk7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuXG4gICAgc2V0VmlzaWJsZSh2aXNpYmxlKSB7XG4gICAgICAgIHRoaXMudmlzaWJsZSA9IHZpc2libGU7XG4gICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgfVxuXG4gICAgLy8gRmFkZSBvdXQgYW5kIGRpc3Bvc2UgbGFiZWwgd2hlbiBkb25lXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy5zZXRWaXNpYmxlKGZhbHNlKTtcblxuICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCB3ZSBjbGVhbiB1cCB3aGVuIGZhZGluZyBpcyBkb25lLlxuICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKT0+dGhpcy5kdG9yKCksIDEwMDAgKiB0aGlzLm9wYWNpdHlQYXJhbS5hbmltVGltZSk7XG4gICAgfVxuXG4gICAgLy8gQHBhcmFtIHtudW1iZXJ9IG9mZnNldCAtIE9wdGlvbmFsOiBWZXJ0aWNhbCBvZmZzZXQgaW4gc2NyZWVuLXBpeGVscy4gUG9zaXRpdmUgdmFsdWVzIHNoaWZ0IGRvd24uXG4gICAgc2V0VmVydGljYWxPZmZzZXQob2Zmc2V0KSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnRvcCA9IG9mZnNldCArICdweCc7XG4gICAgfVxuXG4gICAgb25Nb3VzZURvd24oZXZlbnQpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuY3Vyc29yID0gXCJncmFiYmluZ1wiO1xuXG4gICAgICAgIHRoaXMudmlld2VyLnRvb2xDb250cm9sbGVyLl9fY2xpZW50VG9DYW52YXNDb29yZHMoZXZlbnQpO1xuXG4gICAgICAgIHRoaXMuZmlyZUV2ZW50KHsgdHlwZTogRXZlbnRzLkRSQUdfU1RBUlQsIGV2ZW50IH0pO1xuXG4gICAgICAgIGNvbnN0IGhhbmRsZU1vdXNlVXAgPSAoZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5vbk1vdXNlVXAoZSk7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZURvY3VtZW50RXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgaGFuZGxlTW91c2VVcCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5hZGREb2N1bWVudEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIGhhbmRsZU1vdXNlVXApO1xuICAgIH1cblxuICAgIG9uTW91c2VVcChldmVudCkge1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5zdHlsZS5jdXJzb3IgPSBcImdyYWJcIjtcblxuICAgICAgICB0aGlzLnZpZXdlci50b29sQ29udHJvbGxlci5fX2NsaWVudFRvQ2FudmFzQ29vcmRzKGV2ZW50KTtcblxuICAgICAgICB0aGlzLmZpcmVFdmVudCh7IHR5cGU6IEV2ZW50cy5EUkFHX0VORCwgZXZlbnQgfSk7XG4gICAgfVxuXG4gICAgc2V0RHJhZ2dhYmxlKGRyYWdnYWJsZSkge1xuICAgICAgICBpZiAoZHJhZ2dhYmxlICYmICF0aGlzLmRyYWdnYWJsZSkge1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLm9uTW91c2VEb3duKTtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmN1cnNvciA9IFwiZ3JhYlwiO1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdhdXRvJztcbiAgICAgICAgfSBlbHNlIGlmICghZHJhZ2dhYmxlICYmIHRoaXMuZHJhZ2dhYmxlKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMub25Nb3VzZURvd24pO1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuY3Vyc29yID0gXCJcIjtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRyYWdnYWJsZSA9IGRyYWdnYWJsZTtcbiAgICB9XG59XG5cbmF2Lkdsb2JhbE1hbmFnZXJNaXhpbi5jYWxsKExhYmVsM0QucHJvdG90eXBlKTtcblxuTGFiZWwzRC5FdmVudHMgPSBFdmVudHM7XG4iXSwibmFtZXMiOlsiYXYiLCJBdXRvZGVzayIsIlZpZXdpbmciLCJhdnAiLCJQcml2YXRlIiwiZ2V0UGl4ZWxEaXN0YW5jZSIsInZpZXdlciIsInAxIiwicDIiLCJwMVNjcmVlbiIsImltcGwiLCJ3b3JsZFRvQ2xpZW50IiwicDJTY3JlZW4iLCJkeCIsIngiLCJkeSIsInkiLCJNYXRoIiwic3FydCIsIkV2ZW50cyIsIkRSQUdfU1RBUlQiLCJEUkFHX0VORCIsIkxhYmVsM0QiLCJFdmVudERpc3BhdGNoZXIiLCJjb25zdHJ1Y3RvciIsInBvczNEIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiVEhSRUUiLCJWZWN0b3IzIiwidGV4dCIsInBvczJEIiwiZHJhZ2dhYmxlIiwic2V0R2xvYmFsTWFuYWdlciIsImdsb2JhbE1hbmFnZXIiLCJjYW1lcmFDaGFuZ2VDYiIsInVwZGF0ZSIsImJpbmQiLCJhZGRFdmVudExpc3RlbmVyIiwiQ0FNRVJBX0NIQU5HRV9FVkVOVCIsIlZJRVdFUl9SRVNJWkVfRVZFTlQiLCJkb2N1bWVudCIsImNhbnZhc1dyYXAiLCJvd25lckRvY3VtZW50IiwiY29udGFpbmVyIiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZENoaWxkIiwic2V0T3BhY2l0eSIsInQiLCJzdHlsZSIsIm9wYWNpdHkiLCJvcGFjaXR5UGFyYW0iLCJBbmltYXRlZFBhcmFtIiwiZmFkZVRvIiwibGVmdCIsInRvcCIsInBvc2l0aW9uIiwicG9pbnRlckV2ZW50cyIsInRleHREaXYiLCJzZXRUZXh0Iiwid29ybGRCb3giLCJtaW5QaXhlbHMiLCJzZXRWaXNpYmxlIiwib25Nb3VzZURvd24iLCJzaG91bGRCZUhpZGRlbiIsImJveFNpemVTY3JlZW4iLCJtaW4iLCJtYXgiLCJzZXRXb3JsZEJveCIsImJveCIsImluaXRUZXh0TGFiZWwiLCJjbGFzc0xpc3QiLCJhZGQiLCJ0ZXh0Q29udGVudCIsImkxOG4iLCJ0cmFuc2xhdGUiLCJkdG9yIiwicmVtb3ZlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInRyYW5zZm9ybSIsImhpZGRlbiIsInZpc2libGUiLCJjaGFuZ2VDb250YWluZXJWaXNpYmlsaXR5Iiwic2hvdyIsInN0eWxlSGlkZGVuIiwiZGlzcGxheSIsInNldFBvc2l0aW9uIiwicG9zIiwiY29weSIsImRpc3Bvc2UiLCJ3aW5kb3ciLCJzZXRUaW1lb3V0IiwiYW5pbVRpbWUiLCJzZXRWZXJ0aWNhbE9mZnNldCIsIm9mZnNldCIsImV2ZW50IiwiY3Vyc29yIiwidG9vbENvbnRyb2xsZXIiLCJfX2NsaWVudFRvQ2FudmFzQ29vcmRzIiwiZmlyZUV2ZW50IiwidHlwZSIsImhhbmRsZU1vdXNlVXAiLCJlIiwib25Nb3VzZVVwIiwicmVtb3ZlRG9jdW1lbnRFdmVudExpc3RlbmVyIiwiYWRkRG9jdW1lbnRFdmVudExpc3RlbmVyIiwic2V0RHJhZ2dhYmxlIiwiR2xvYmFsTWFuYWdlck1peGluIiwiY2FsbCIsInByb3RvdHlwZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/Edit3D/Label3D.js\n");

                /***/
            }),

        /***/
        "./extensions/Edit3D/NPointPicker.js":
            /*!*******************************************!*\
              !*** ./extensions/Edit3D/NPointPicker.js ***!
              \*******************************************/
            /***/
            ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

                "use strict";
                eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ NPointPicker)\n/* harmony export */ });\n/* harmony import */ var _CoordPicker_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CoordPicker.js */ \"./extensions/Edit3D/CoordPicker.js\");\n/* harmony import */ var _PointMarker_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./PointMarker.js */ \"./extensions/Edit3D/PointMarker.js\");\n\n\n\n// Controls the user interaction workflow for picking N points\n\nconst Events = {\n  POINT_SELECTED: \"pointSelected\",\n  POINT_HOVERED: \"pointHovered\",\n  POINT_SELECTION_STARTED: \"pointSelectionStarted\",\n  CLEAR: \"clear\"\n};\n\nconst Colors = {\n  Blue: \"rgb(6, 150, 215)\", // adskBlue500\n  Red: \"rgb(236, 74, 65)\", // red500\n  Black: \"rgb(0,0,0)\",\n  White: \"rgb(255,255,255)\"\n};\n\nconst ConnectorTypes = {\n  Line: \"line\",\n  Arrow: \"arrow\"\n};\n\n// N point picker - allows picking N points.\n//  @param {Viewer3D}      viewer\n//  @param {CoordPicker}   coordPicker\n//  @param {ScreenOverlay} screenOverlay\n//  @param {number}        N - number of points to select\n//  @param {Object}        [options]\n//  @param {Boolean}          [options.draggable] -      Whether points are draggable or not\n//  @param {String[]}      [options.colors] -         Array of colors\n//  @param {String[]}      [options.labels] -         Array of labels\n//  @param {String[]}      [options.icons] -          Array of icons\n//  @param {Object[]}      [options.connections] -    Array of point connections metadata.\n//  @param {Object[]}      [options.stops] -          Array of point indexes that the tool shouldn't automatically continue positioning new points after them.\nclass NPointPicker {\n  constructor(viewer, coordPicker, screenOverlay, N) {let options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n    this.viewer = viewer;\n    this.options = options;\n    this.coordPicker = coordPicker;\n    this.N = N;\n\n    Autodesk.Viewing.EventDispatcher.prototype.apply(this);\n\n    // Current active point - the one that is currently being picked or hovered.\n    this.selectingIndex = -1;\n\n    // Last valid point that was selected. Drag an exising previous point won't change this value.\n    this.lastSelectedPoint = -1;\n\n    this.coordPicker.addEventListener(\n      _CoordPicker_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Events.POINT_CLICKED,\n      (event) => this.onPointClicked(event)\n    );\n    this.coordPicker.addEventListener(\n      _CoordPicker_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Events.POINT_HOVERED,\n      (event) => this.onPointHovered(event)\n    );\n    this.coordPicker.addEventListener(_CoordPicker_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Events.ESCAPE, () => {\n      // Reset point only when dragging.\n      if (this.coordPicker.isDragging) {\n        this.cancelPointSelection();\n      }\n    });\n\n    this.points = [];\n    this.pointValid = [];\n    this.markers = [];\n    this.showMarkers = this.options.showMarkers || new Array(this.N).fill(true); // If showMarkers array is not supplied, default to true.\n\n    for (let i = 0; i < this.N; i++) {\n      this.points.push(new THREE.Vector3());\n      this.pointValid.push(false);\n      const color = options.colors ? options.colors[i] : Colors.Blue;\n      const label = options.labels ? options.labels[i] : undefined;\n      const icon = options.icons ? options.icons[i] : undefined;\n      const marker = new _PointMarker_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.viewer, undefined, label, icon);\n      this.markers.push(marker);\n\n      if (this.options.draggable) {\n        marker.addEventListener(_PointMarker_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Events.DRAG_START, () =>\n        this.startSelectPoint(i, true)\n        );\n        marker.addEventListener(_PointMarker_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].Events.DRAG_END, (event) =>\n        this.onDragEnded(event)\n        );\n      }\n\n      // Hide the markers until we have valid from/to point\n      marker.setVisible(false);\n      marker.setColor(color);\n\n      // Custom label style\n      if (options.labelStyles && options.labelStyles[i]) {\n        Object.keys(options.labelStyles[i]).forEach((key) => {\n          marker.label.container.style[key] = options.labelStyles[i][key];\n        });\n      }\n    }\n\n    // {Autodesk.Edit2D.ScreenOverlay}\n    this.screenOverlay = screenOverlay;\n\n    const connectionsData = this.options.connections || [];\n    this.connectors = [];\n\n    for (let i = 0; i < connectionsData.length; i++) {\n      const connectionData = connectionsData[i];\n\n      // Configure style of line/arrow connection\n      const lineStyle = new Autodesk.Edit2D.Style({\n        lineStyle: 10,\n        lineWidth: 1.5,\n        lineColor: connectionData.color || Colors.Blue\n      });\n\n      let gizmo;\n      let attachableObject;\n      let setFrom;\n      let setTo;\n\n      if (connectionData.type === ConnectorTypes.Line) {\n        // Dashed line connecting from/to point\n        gizmo = new Autodesk.Edit2D.ScreenOverlay.Line3DGizmo();\n        gizmo.line2D.style.copy(lineStyle);\n\n        // Define attachable object for the label\n        attachableObject = gizmo.line2D;\n\n        // Define position setters\n        setFrom = gizmo.a.copy.bind(gizmo.a);\n        setTo = gizmo.b.copy.bind(gizmo.b);\n      } else if (connectionData.type === ConnectorTypes.Arrow) {\n        // Dashed arrow connecting from/to point\n        gizmo = new Autodesk.Edit2D.ScreenOverlay.Arrow3DGizmo();\n        gizmo.arrow.line.style.copy(lineStyle);\n        gizmo.arrow.head.style.fillColor = lineStyle.lineColor;\n        gizmo.arrow.setHeadLength(18); // in pixels, because layer is screen-aligned\n        gizmo.arrow.setHeadAngle(40); // in degrees\n\n        // Define attachable object for the label\n        attachableObject = gizmo.arrow.line;\n\n        // Define position setters\n        setFrom = gizmo.setFrom.bind(gizmo);\n        setTo = gizmo.setTo.bind(gizmo);\n      } else {\n        console.warn(\"Invalid connector type.\");\n        continue;\n      }\n\n      let label;\n\n      if (connectionData.getEdgeLabelText) {\n        label = new Autodesk.Edit2D.EdgeLabel(screenOverlay.layer);\n        label.attachToEdge(attachableObject, 0, 0);\n\n        // Custom label style\n        if (connectionData.labelStyle) {\n          Object.keys(connectionData.labelStyle).forEach((key) => {\n            label.container.style[key] = connectionData.labelStyle[key];\n          });\n        }\n      }\n\n      this.connectors.push({\n        fromIndex: connectionData.fromIndex,\n        toIndex: connectionData.toIndex,\n        getEdgeLabelText: connectionData.getEdgeLabelText,\n        gizmo,\n        label,\n        setFrom,\n        setTo\n      });\n    }\n\n    this.visible = true;\n\n    this.stops = this.options.stops || [];\n\n    this.onModelTransformChanged = this.onModelTransformChanged.bind(this);\n\n    this.modelsToPointsMap = {}; // { modelId: [indexes] }\n  }\n\n  dtor() {\n    this.viewer.removeEventListener(Autodesk.Viewing.MODEL_TRANSFORM_CHANGED_EVENT, this.onModelTransformChanged);\n    this.viewer = null;\n  }\n\n  startSelectPoint(index, enableDrag) {\n    // Backup current point's position in case the drag won't be valid. In this case, we'll restore the current point.\n    this.pointBackup = this.pointValid[index] ?\n    this.points[index].clone() :\n    null;\n\n    // Start coord picker\n    if (!this.viewer.toolController.isToolActivated(this.coordPicker.getName())) {\n      this.viewer.toolController.activateTool(this.coordPicker.getName());\n    }\n\n    this.selectingIndex = index;\n\n    if (this.options.draggable) {\n      this.coordPicker.setDragging(enableDrag);\n      this.setMarkersDraggable(false);\n    }\n\n    this.fireEvent({\n      type: Events.POINT_SELECTION_STARTED,\n      index: this.selectingIndex\n    });\n  }\n\n  onDragEnded(_ref) {let { event } = _ref;\n    if (!this.coordPicker.getDragging()) {\n      return;\n    }\n\n    this.coordPicker.handleSingleClick(event, 0);\n    this.coordPicker.setDragging(false);\n  }\n\n  startSelect() {\n    this.isActive = true;\n    this.continuePointSelectionIfNeeded();\n  }\n\n  // @param {Vector3} [from] - Use null/undefined for clearing the fromPoint.\n  setPoint(index, point) {\n    this.pointValid[index] = !!point;\n\n    if (this.pointValid[index]) {\n      this.points[index].copy(point);\n\n      // update point marker\n      this.markers[index].setPosition(point);\n    }\n\n    this.updateGizmos();\n  }\n\n  updateGizmoVisibility(gizmo, visible, skipFade) {\n    if (visible || skipFade) {\n      // Show/Hide immediately.\n      this.screenOverlay.setGizmoVisible(gizmo, visible);\n    } else {\n      // By default, hiding is done as smooth fadeout.\n      this.screenOverlay.fadeOutGizmo(gizmo);\n    }\n  }\n\n  // Show dashed line or arrow if from/to are both valid\n  updateGizmos(skipFade) {\n    for (let i = 0; i < this.N; i++) {\n      const visible = this.showMarkers[i] && this.visible && this.pointValid[i];\n      this.markers[i].setVisible(visible);\n    }\n\n    for (let i = 0; i < this.connectors.length; i++) {\n      const connector = this.connectors[i];\n      // Decide whether to show the connection between both points\n      const showGizmo =\n      this.visible &&\n      this.pointValid[connector.fromIndex] &&\n      this.pointValid[connector.toIndex];\n\n      this.updateGizmoVisibility(connector.gizmo, showGizmo, skipFade);\n\n      if (showGizmo) {\n        connector.setFrom(this.points[connector.fromIndex]);\n        connector.setTo(this.points[connector.toIndex]);\n      }\n\n      if (connector.label) {\n        connector.label.setOpacity(showGizmo ? 1 : 0, true);\n\n        // Update distance value only if label is visible.\n        if (showGizmo) {\n          const text = connector.getEdgeLabelText(i);\n          connector.label.setText(text);\n        }\n      }\n    }\n\n    // ensure refresh if only position has changed\n    this.screenOverlay.update();\n  }\n\n  clearPoint(index) {\n    this.pointValid[index] = false;\n    this.markers[index].setVisible(false);\n\n    this.updateGizmos();\n  }\n\n  clear() {\n    this.cancelPointSelection();\n\n    for (let i = 0; i < this.N; i++) {\n      this.pointValid[i] = false;\n      this.markers[i].setVisible(false);\n    }\n\n    this.selectingIndex = -1;\n    this.lastSelectedPoint = -1;\n\n    this.updateGizmos();\n\n    this.isActive = false;\n\n    this.fireEvent({ type: Events.CLEAR });\n  }\n\n  onPointHovered(event) {\n    if (this.selectingIndex === -1) {\n      return;\n    }\n\n    this.setPoint(this.selectingIndex, event.point);\n    this.fireEvent({\n      type: Events.POINT_HOVERED,\n      point: event.point,\n      index: this.selectingIndex\n    });\n  }\n\n  onPointClicked(_ref2) {let { point } = _ref2;let pickAnother = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    if (this.selectingIndex === -1) {\n      return;\n    }\n\n    // In case not point was selected, try restoring point backup.\n    point = point || this.pointBackup;\n\n    // Clear point backup\n    this.pointBackup = null;\n\n    // TODO: Avoid this hack. For this, the OrbitDollyPanTool should stop locking the ToolController and\n    //       properly handle the case to be disabled within an interaction - without global blocking the ToolController.\n    this.viewer.toolController.setIsLocked(false);\n    this.viewer.toolController.deactivateTool(this.coordPicker.getName());\n\n    if (point) {\n      // Set pivot to selected point, so that we can orbit around it\n      this.viewer.impl.camera.pivot.copy(point);\n      this.viewer.impl.camera.dirty = true;\n    }\n\n    this.setPoint(this.selectingIndex, point);\n\n    this.setMarkersDraggable(true);\n\n    const index = this.selectingIndex;\n\n    this.selectingIndex = -1;\n\n    if (point) {\n      this.lastSelectedPoint = Math.max(index, this.lastSelectedPoint);\n      this.fireEvent({ type: Events.POINT_SELECTED, point, index });\n    }\n\n    // Start picking another point if:\n    // - pickAnother flag is set\n    // - We just selected a point, and it's not a stop point index.\n    if (pickAnother && !(point && this.stops.includes(this.lastSelectedPoint))) {\n      this.continuePointSelectionIfNeeded();\n    }\n  }\n\n  setMarkersDraggable(enable) {\n    if (!this.options.draggable) {\n      return;\n    }\n\n    for (let i = 0; i < this.N; i++) {\n      const draggable =\n      enable && this.visible && this.pointValid[i] && this.showMarkers[i];\n      this.markers[i].setDraggable(draggable);\n    }\n  }\n\n  cancelPointSelection() {\n    this.onPointClicked({}, false);\n  }\n\n  continuePointSelectionIfNeeded() {\n    if (!this.isPickerActive()) {\n      return;\n    }\n\n    // Make sure the tool is visible.\n    this.setVisible(true);\n\n    for (let i = 0; i < this.N; i++) {\n      if (!this.pointValid[i]) {\n        this.startSelectPoint(i, false);\n        break;\n      }\n    }\n  }\n\n  // Note: By default, setVisible(false) triggers a smooth fadeout. Use skipFade=true if you want to ensure that everything is instantly hidden.\n  setVisible(visible, skipFade) {\n    if (visible !== this.visible) {\n      this.visible = visible;\n      this.updateGizmos(skipFade);\n    }\n  }\n\n  // Shortcut for readability: Hide immediately without any fade-out.\n  forceHide() {\n    this.setVisible(false, true);\n  }\n\n  areAllPointsSet() {\n    if (this.selectingIndex !== -1) {\n      return false;\n    }\n\n    for (let i = 0; i < this.N; i++) {\n      if (!this.pointValid[i]) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  isPickerActive() {\n    return this.isActive;\n  }\n\n  attachPointsToModel(model, points) {\n    this.setModelsToPointsMap(Object.assign({}, this.modelsToPointsMap, { [model.id]: points }));\n  }\n\n  // ModelsToPointsMap is used to define a connection between points and specific models.\n  // It is currently being used in order to update the points according to model transform changes.\n  // Could be also used in the future for limiting the snapper to snap only on the attached model.\n  setModelsToPointsMap(map) {\n    this.modelsToPointsMap = map;\n\n    const ids = Object.keys(this.modelsToPointsMap);\n\n    if (ids.length > 0) {\n      ids.forEach((id) => {var _model$getModelTransf;\n        const model = this.viewer.impl.findModel(Number(id), true);\n\n        // Used in order to calculate the initial transform diff later.\n        const matrix = (_model$getModelTransf = model.getModelTransform()) === null || _model$getModelTransf === void 0 ? void 0 : _model$getModelTransf.clone();\n        this.modelsToPointsMap[id].matrix = matrix || new Autodesk.Viewing.Private.LmvMatrix4(true);\n      });\n\n      if (!this.viewer.hasEventListener(Autodesk.Viewing.MODEL_TRANSFORM_CHANGED_EVENT, this.onModelTransformChanged)) {\n        this.viewer.addEventListener(Autodesk.Viewing.MODEL_TRANSFORM_CHANGED_EVENT, this.onModelTransformChanged);\n      }\n\n    } else {\n      // Remove event if there is no mapping.\n      this.viewer.removeEventListener(Autodesk.Viewing.MODEL_TRANSFORM_CHANGED_EVENT, this.onModelTransformChanged);\n    }\n  }\n\n  // Update points that are attached to a specific model, in case it moved.\n  onModelTransformChanged(_ref3) {let { model, matrix } = _ref3;\n    // No map;\n    if (!this.modelsToPointsMap) {\n      return;\n    }\n\n    const pointIndexes = this.modelsToPointsMap[model.id];\n\n    // Model not in map - nothing to update.\n    if (!pointIndexes) {\n      return;\n    }\n\n    // Calculate diff matrix.\n    const previousMatrix = this.modelsToPointsMap[model.id].matrix;\n    const diffMatrix = previousMatrix.invert();\n    diffMatrix.multiplyMatrices(matrix, diffMatrix);\n\n    // Update for next time.\n    this.modelsToPointsMap[model.id].matrix = matrix.clone();\n\n    for (let i = 0; i < this.N; i++) {\n      if (pointIndexes.includes(i) && this.pointValid[i]) {\n\n        const point = this.points[i];\n        point.applyMatrix4(diffMatrix);\n        this.setPoint(i, point);\n      }\n    }\n  }\n}\n\nNPointPicker.Events = Events;\nNPointPicker.Colors = Colors;\nNPointPicker.ConnectorTypes = ConnectorTypes;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQ1ksWUFBWSxFQUFFO01BQ2Y7SUFDSjs7SUFFQTtJQUNBLE1BQU1DLGNBQWMsR0FBRyxJQUFJLENBQUN0RSxpQkFBaUIsQ0FBQ3NELEtBQUssQ0FBQ0csRUFBRSxDQUFDLENBQUNNLE1BQU07SUFDOUQsTUFBTVEsVUFBVSxHQUFHRCxjQUFjLENBQUNFLE1BQU0sQ0FBQyxDQUFDO0lBQzFDRCxVQUFVLENBQUNFLGdCQUFnQixDQUFDVixNQUFNLEVBQUVRLFVBQVUsQ0FBQzs7SUFFL0M7SUFDQSxJQUFJLENBQUN2RSxpQkFBaUIsQ0FBQ3NELEtBQUssQ0FBQ0csRUFBRSxDQUFDLENBQUNNLE1BQU0sR0FBR0EsTUFBTSxDQUFDeEQsS0FBSyxDQUFDLENBQUM7O0lBRXhELEtBQUssSUFBSXhFLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBRyxJQUFJLENBQUMxQixDQUFDLEVBQUUwQixDQUFDLEVBQUUsRUFBRTtNQUM3QixJQUFJc0ksWUFBWSxDQUFDdEIsUUFBUSxDQUFDaEgsQ0FBQyxDQUFDLElBQUksSUFBSSxDQUFDTCxVQUFVLENBQUNLLENBQUMsQ0FBQyxFQUFFOztRQUVoRCxNQUFNdUYsS0FBSyxHQUFHLElBQUksQ0FBQzdGLE1BQU0sQ0FBQ00sQ0FBQyxDQUFDO1FBQzVCdUYsS0FBSyxDQUFDb0QsWUFBWSxDQUFDSCxVQUFVLENBQUM7UUFDOUIsSUFBSSxDQUFDbEQsUUFBUSxDQUFDdEYsQ0FBQyxFQUFFdUYsS0FBSyxDQUFDO01BQzNCO0lBQ0o7RUFDSjtBQUNKOztBQUVBdEgsWUFBWSxDQUFDYixNQUFNLEdBQUdBLE1BQU07QUFDNUJhLFlBQVksQ0FBQ1IsTUFBTSxHQUFHQSxNQUFNO0FBQzVCUSxZQUFZLENBQUNILGNBQWMsR0FBR0EsY0FBYyIsInNvdXJjZXMiOlsid2VicGFjazovL0F1dG9kZXNrLkV4dGVuc2lvbnMvLi9leHRlbnNpb25zL0VkaXQzRC9OUG9pbnRQaWNrZXIuanM/ZTM0YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ29vcmRQaWNrZXIgZnJvbSBcIi4vQ29vcmRQaWNrZXIuanNcIjtcbmltcG9ydCBQb2ludE1hcmtlciBmcm9tIFwiLi9Qb2ludE1hcmtlci5qc1wiO1xuXG4vLyBDb250cm9scyB0aGUgdXNlciBpbnRlcmFjdGlvbiB3b3JrZmxvdyBmb3IgcGlja2luZyBOIHBvaW50c1xuXG5jb25zdCBFdmVudHMgPSB7XG4gICAgUE9JTlRfU0VMRUNURUQ6IFwicG9pbnRTZWxlY3RlZFwiLFxuICAgIFBPSU5UX0hPVkVSRUQ6IFwicG9pbnRIb3ZlcmVkXCIsXG4gICAgUE9JTlRfU0VMRUNUSU9OX1NUQVJURUQ6IFwicG9pbnRTZWxlY3Rpb25TdGFydGVkXCIsXG4gICAgQ0xFQVI6IFwiY2xlYXJcIixcbn07XG5cbmNvbnN0IENvbG9ycyA9IHtcbiAgICBCbHVlOiBcInJnYig2LCAxNTAsIDIxNSlcIiwgLy8gYWRza0JsdWU1MDBcbiAgICBSZWQ6IFwicmdiKDIzNiwgNzQsIDY1KVwiLCAvLyByZWQ1MDBcbiAgICBCbGFjazogXCJyZ2IoMCwwLDApXCIsXG4gICAgV2hpdGU6IFwicmdiKDI1NSwyNTUsMjU1KVwiLFxufTtcblxuY29uc3QgQ29ubmVjdG9yVHlwZXMgPSB7XG4gICAgTGluZTogXCJsaW5lXCIsXG4gICAgQXJyb3c6IFwiYXJyb3dcIixcbn07XG5cbi8vIE4gcG9pbnQgcGlja2VyIC0gYWxsb3dzIHBpY2tpbmcgTiBwb2ludHMuXG4vLyAgQHBhcmFtIHtWaWV3ZXIzRH0gICAgICB2aWV3ZXJcbi8vICBAcGFyYW0ge0Nvb3JkUGlja2VyfSAgIGNvb3JkUGlja2VyXG4vLyAgQHBhcmFtIHtTY3JlZW5PdmVybGF5fSBzY3JlZW5PdmVybGF5XG4vLyAgQHBhcmFtIHtudW1iZXJ9ICAgICAgICBOIC0gbnVtYmVyIG9mIHBvaW50cyB0byBzZWxlY3Rcbi8vICBAcGFyYW0ge09iamVjdH0gICAgICAgIFtvcHRpb25zXVxuLy8gIEBwYXJhbSB7Qm9vbGVhbn0gICAgICAgICAgW29wdGlvbnMuZHJhZ2dhYmxlXSAtICAgICAgV2hldGhlciBwb2ludHMgYXJlIGRyYWdnYWJsZSBvciBub3Rcbi8vICBAcGFyYW0ge1N0cmluZ1tdfSAgICAgIFtvcHRpb25zLmNvbG9yc10gLSAgICAgICAgIEFycmF5IG9mIGNvbG9yc1xuLy8gIEBwYXJhbSB7U3RyaW5nW119ICAgICAgW29wdGlvbnMubGFiZWxzXSAtICAgICAgICAgQXJyYXkgb2YgbGFiZWxzXG4vLyAgQHBhcmFtIHtTdHJpbmdbXX0gICAgICBbb3B0aW9ucy5pY29uc10gLSAgICAgICAgICBBcnJheSBvZiBpY29uc1xuLy8gIEBwYXJhbSB7T2JqZWN0W119ICAgICAgW29wdGlvbnMuY29ubmVjdGlvbnNdIC0gICAgQXJyYXkgb2YgcG9pbnQgY29ubmVjdGlvbnMgbWV0YWRhdGEuXG4vLyAgQHBhcmFtIHtPYmplY3RbXX0gICAgICBbb3B0aW9ucy5zdG9wc10gLSAgICAgICAgICBBcnJheSBvZiBwb2ludCBpbmRleGVzIHRoYXQgdGhlIHRvb2wgc2hvdWxkbid0IGF1dG9tYXRpY2FsbHkgY29udGludWUgcG9zaXRpb25pbmcgbmV3IHBvaW50cyBhZnRlciB0aGVtLlxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTlBvaW50UGlja2VyIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWV3ZXIsIGNvb3JkUGlja2VyLCBzY3JlZW5PdmVybGF5LCBOLCBvcHRpb25zID0ge30pIHtcbiAgICAgICAgdGhpcy52aWV3ZXIgPSB2aWV3ZXI7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMuY29vcmRQaWNrZXIgPSBjb29yZFBpY2tlcjtcbiAgICAgICAgdGhpcy5OID0gTjtcblxuICAgICAgICBBdXRvZGVzay5WaWV3aW5nLkV2ZW50RGlzcGF0Y2hlci5wcm90b3R5cGUuYXBwbHkodGhpcyk7XG5cbiAgICAgICAgLy8gQ3VycmVudCBhY3RpdmUgcG9pbnQgLSB0aGUgb25lIHRoYXQgaXMgY3VycmVudGx5IGJlaW5nIHBpY2tlZCBvciBob3ZlcmVkLlxuICAgICAgICB0aGlzLnNlbGVjdGluZ0luZGV4ID0gLTE7XG4gICAgICAgIFxuICAgICAgICAvLyBMYXN0IHZhbGlkIHBvaW50IHRoYXQgd2FzIHNlbGVjdGVkLiBEcmFnIGFuIGV4aXNpbmcgcHJldmlvdXMgcG9pbnQgd29uJ3QgY2hhbmdlIHRoaXMgdmFsdWUuXG4gICAgICAgIHRoaXMubGFzdFNlbGVjdGVkUG9pbnQgPSAtMTtcblxuICAgICAgICB0aGlzLmNvb3JkUGlja2VyLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICBDb29yZFBpY2tlci5FdmVudHMuUE9JTlRfQ0xJQ0tFRCxcbiAgICAgICAgICAgIChldmVudCkgPT4gdGhpcy5vblBvaW50Q2xpY2tlZChldmVudClcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5jb29yZFBpY2tlci5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgQ29vcmRQaWNrZXIuRXZlbnRzLlBPSU5UX0hPVkVSRUQsXG4gICAgICAgICAgICAoZXZlbnQpID0+IHRoaXMub25Qb2ludEhvdmVyZWQoZXZlbnQpXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuY29vcmRQaWNrZXIuYWRkRXZlbnRMaXN0ZW5lcihDb29yZFBpY2tlci5FdmVudHMuRVNDQVBFLCAoKSA9PiB7XG4gICAgICAgICAgICAvLyBSZXNldCBwb2ludCBvbmx5IHdoZW4gZHJhZ2dpbmcuXG4gICAgICAgICAgICBpZiAodGhpcy5jb29yZFBpY2tlci5pc0RyYWdnaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW5jZWxQb2ludFNlbGVjdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnBvaW50cyA9IFtdO1xuICAgICAgICB0aGlzLnBvaW50VmFsaWQgPSBbXTtcbiAgICAgICAgdGhpcy5tYXJrZXJzID0gW107XG4gICAgICAgIHRoaXMuc2hvd01hcmtlcnMgPSB0aGlzLm9wdGlvbnMuc2hvd01hcmtlcnMgfHwgbmV3IEFycmF5KHRoaXMuTikuZmlsbCh0cnVlKTsgLy8gSWYgc2hvd01hcmtlcnMgYXJyYXkgaXMgbm90IHN1cHBsaWVkLCBkZWZhdWx0IHRvIHRydWUuXG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLk47IGkrKykge1xuICAgICAgICAgICAgdGhpcy5wb2ludHMucHVzaChuZXcgVEhSRUUuVmVjdG9yMygpKTtcbiAgICAgICAgICAgIHRoaXMucG9pbnRWYWxpZC5wdXNoKGZhbHNlKTtcbiAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gb3B0aW9ucy5jb2xvcnMgPyBvcHRpb25zLmNvbG9yc1tpXSA6IENvbG9ycy5CbHVlO1xuICAgICAgICAgICAgY29uc3QgbGFiZWwgPSBvcHRpb25zLmxhYmVscyA/IG9wdGlvbnMubGFiZWxzW2ldIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgY29uc3QgaWNvbiA9IG9wdGlvbnMuaWNvbnMgPyBvcHRpb25zLmljb25zW2ldIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgY29uc3QgbWFya2VyID0gbmV3IFBvaW50TWFya2VyKHRoaXMudmlld2VyLCB1bmRlZmluZWQsIGxhYmVsLCBpY29uKTtcbiAgICAgICAgICAgIHRoaXMubWFya2Vycy5wdXNoKG1hcmtlcik7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZHJhZ2dhYmxlKSB7XG4gICAgICAgICAgICAgICAgbWFya2VyLmFkZEV2ZW50TGlzdGVuZXIoUG9pbnRNYXJrZXIuRXZlbnRzLkRSQUdfU1RBUlQsICgpID0+XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRTZWxlY3RQb2ludChpLCB0cnVlKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgbWFya2VyLmFkZEV2ZW50TGlzdGVuZXIoUG9pbnRNYXJrZXIuRXZlbnRzLkRSQUdfRU5ELCAoZXZlbnQpID0+XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25EcmFnRW5kZWQoZXZlbnQpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSGlkZSB0aGUgbWFya2VycyB1bnRpbCB3ZSBoYXZlIHZhbGlkIGZyb20vdG8gcG9pbnRcbiAgICAgICAgICAgIG1hcmtlci5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgICAgIG1hcmtlci5zZXRDb2xvcihjb2xvcik7XG5cbiAgICAgICAgICAgIC8vIEN1c3RvbSBsYWJlbCBzdHlsZVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMubGFiZWxTdHlsZXMgJiYgb3B0aW9ucy5sYWJlbFN0eWxlc1tpXSkge1xuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKG9wdGlvbnMubGFiZWxTdHlsZXNbaV0pLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBtYXJrZXIubGFiZWwuY29udGFpbmVyLnN0eWxlW2tleV0gPSBvcHRpb25zLmxhYmVsU3R5bGVzW2ldW2tleV07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyB7QXV0b2Rlc2suRWRpdDJELlNjcmVlbk92ZXJsYXl9XG4gICAgICAgIHRoaXMuc2NyZWVuT3ZlcmxheSA9IHNjcmVlbk92ZXJsYXk7XG5cbiAgICAgICAgY29uc3QgY29ubmVjdGlvbnNEYXRhID0gdGhpcy5vcHRpb25zLmNvbm5lY3Rpb25zIHx8IFtdO1xuICAgICAgICB0aGlzLmNvbm5lY3RvcnMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbm5lY3Rpb25zRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY29ubmVjdGlvbkRhdGEgPSBjb25uZWN0aW9uc0RhdGFbaV07XG5cbiAgICAgICAgICAgIC8vIENvbmZpZ3VyZSBzdHlsZSBvZiBsaW5lL2Fycm93IGNvbm5lY3Rpb25cbiAgICAgICAgICAgIGNvbnN0IGxpbmVTdHlsZSA9IG5ldyBBdXRvZGVzay5FZGl0MkQuU3R5bGUoe1xuICAgICAgICAgICAgICAgIGxpbmVTdHlsZTogMTAsXG4gICAgICAgICAgICAgICAgbGluZVdpZHRoOiAxLjUsXG4gICAgICAgICAgICAgICAgbGluZUNvbG9yOiBjb25uZWN0aW9uRGF0YS5jb2xvciB8fCBDb2xvcnMuQmx1ZSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBsZXQgZ2l6bW87XG4gICAgICAgICAgICBsZXQgYXR0YWNoYWJsZU9iamVjdDtcbiAgICAgICAgICAgIGxldCBzZXRGcm9tO1xuICAgICAgICAgICAgbGV0IHNldFRvO1xuXG4gICAgICAgICAgICBpZiAoY29ubmVjdGlvbkRhdGEudHlwZSA9PT0gQ29ubmVjdG9yVHlwZXMuTGluZSkge1xuICAgICAgICAgICAgICAgIC8vIERhc2hlZCBsaW5lIGNvbm5lY3RpbmcgZnJvbS90byBwb2ludFxuICAgICAgICAgICAgICAgIGdpem1vID0gbmV3IEF1dG9kZXNrLkVkaXQyRC5TY3JlZW5PdmVybGF5LkxpbmUzREdpem1vKCk7XG4gICAgICAgICAgICAgICAgZ2l6bW8ubGluZTJELnN0eWxlLmNvcHkobGluZVN0eWxlKTtcblxuICAgICAgICAgICAgICAgIC8vIERlZmluZSBhdHRhY2hhYmxlIG9iamVjdCBmb3IgdGhlIGxhYmVsXG4gICAgICAgICAgICAgICAgYXR0YWNoYWJsZU9iamVjdCA9IGdpem1vLmxpbmUyRDtcblxuICAgICAgICAgICAgICAgIC8vIERlZmluZSBwb3NpdGlvbiBzZXR0ZXJzXG4gICAgICAgICAgICAgICAgc2V0RnJvbSA9IGdpem1vLmEuY29weS5iaW5kKGdpem1vLmEpO1xuICAgICAgICAgICAgICAgIHNldFRvID0gZ2l6bW8uYi5jb3B5LmJpbmQoZ2l6bW8uYik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvbm5lY3Rpb25EYXRhLnR5cGUgPT09IENvbm5lY3RvclR5cGVzLkFycm93KSB7XG4gICAgICAgICAgICAgICAgLy8gRGFzaGVkIGFycm93IGNvbm5lY3RpbmcgZnJvbS90byBwb2ludFxuICAgICAgICAgICAgICAgIGdpem1vID0gbmV3IEF1dG9kZXNrLkVkaXQyRC5TY3JlZW5PdmVybGF5LkFycm93M0RHaXptbygpO1xuICAgICAgICAgICAgICAgIGdpem1vLmFycm93LmxpbmUuc3R5bGUuY29weShsaW5lU3R5bGUpO1xuICAgICAgICAgICAgICAgIGdpem1vLmFycm93LmhlYWQuc3R5bGUuZmlsbENvbG9yID0gbGluZVN0eWxlLmxpbmVDb2xvcjtcbiAgICAgICAgICAgICAgICBnaXptby5hcnJvdy5zZXRIZWFkTGVuZ3RoKDE4KTsgLy8gaW4gcGl4ZWxzLCBiZWNhdXNlIGxheWVyIGlzIHNjcmVlbi1hbGlnbmVkXG4gICAgICAgICAgICAgICAgZ2l6bW8uYXJyb3cuc2V0SGVhZEFuZ2xlKDQwKTsgLy8gaW4gZGVncmVlc1xuXG4gICAgICAgICAgICAgICAgLy8gRGVmaW5lIGF0dGFjaGFibGUgb2JqZWN0IGZvciB0aGUgbGFiZWxcbiAgICAgICAgICAgICAgICBhdHRhY2hhYmxlT2JqZWN0ID0gZ2l6bW8uYXJyb3cubGluZTtcblxuICAgICAgICAgICAgICAgIC8vIERlZmluZSBwb3NpdGlvbiBzZXR0ZXJzXG4gICAgICAgICAgICAgICAgc2V0RnJvbSA9IGdpem1vLnNldEZyb20uYmluZChnaXptbyk7XG4gICAgICAgICAgICAgICAgc2V0VG8gPSBnaXptby5zZXRUby5iaW5kKGdpem1vKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiSW52YWxpZCBjb25uZWN0b3IgdHlwZS5cIik7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBsYWJlbDtcblxuICAgICAgICAgICAgaWYgKGNvbm5lY3Rpb25EYXRhLmdldEVkZ2VMYWJlbFRleHQpIHtcbiAgICAgICAgICAgICAgICBsYWJlbCA9IG5ldyBBdXRvZGVzay5FZGl0MkQuRWRnZUxhYmVsKHNjcmVlbk92ZXJsYXkubGF5ZXIpO1xuICAgICAgICAgICAgICAgIGxhYmVsLmF0dGFjaFRvRWRnZShhdHRhY2hhYmxlT2JqZWN0LCAwLCAwKTtcblxuICAgICAgICAgICAgICAgIC8vIEN1c3RvbSBsYWJlbCBzdHlsZVxuICAgICAgICAgICAgICAgIGlmIChjb25uZWN0aW9uRGF0YS5sYWJlbFN0eWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGNvbm5lY3Rpb25EYXRhLmxhYmVsU3R5bGUpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwuY29udGFpbmVyLnN0eWxlW2tleV0gPSBjb25uZWN0aW9uRGF0YS5sYWJlbFN0eWxlW2tleV07XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5jb25uZWN0b3JzLnB1c2goe1xuICAgICAgICAgICAgICAgIGZyb21JbmRleDogY29ubmVjdGlvbkRhdGEuZnJvbUluZGV4LFxuICAgICAgICAgICAgICAgIHRvSW5kZXg6IGNvbm5lY3Rpb25EYXRhLnRvSW5kZXgsXG4gICAgICAgICAgICAgICAgZ2V0RWRnZUxhYmVsVGV4dDogY29ubmVjdGlvbkRhdGEuZ2V0RWRnZUxhYmVsVGV4dCxcbiAgICAgICAgICAgICAgICBnaXptbyxcbiAgICAgICAgICAgICAgICBsYWJlbCxcbiAgICAgICAgICAgICAgICBzZXRGcm9tLFxuICAgICAgICAgICAgICAgIHNldFRvLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnZpc2libGUgPSB0cnVlO1xuXG4gICAgICAgIHRoaXMuc3RvcHMgPSB0aGlzLm9wdGlvbnMuc3RvcHMgfHwgW107XG5cbiAgICAgICAgdGhpcy5vbk1vZGVsVHJhbnNmb3JtQ2hhbmdlZCA9IHRoaXMub25Nb2RlbFRyYW5zZm9ybUNoYW5nZWQuYmluZCh0aGlzKTtcblxuICAgICAgICB0aGlzLm1vZGVsc1RvUG9pbnRzTWFwID0ge307IC8vIHsgbW9kZWxJZDogW2luZGV4ZXNdIH1cbiAgICB9XG5cbiAgICBkdG9yKCkgeyBcbiAgICAgICAgdGhpcy52aWV3ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihBdXRvZGVzay5WaWV3aW5nLk1PREVMX1RSQU5TRk9STV9DSEFOR0VEX0VWRU5ULCB0aGlzLm9uTW9kZWxUcmFuc2Zvcm1DaGFuZ2VkKTtcbiAgICAgICAgdGhpcy52aWV3ZXIgPSBudWxsO1xuICAgIH1cblxuICAgIHN0YXJ0U2VsZWN0UG9pbnQoaW5kZXgsIGVuYWJsZURyYWcpIHtcbiAgICAgICAgLy8gQmFja3VwIGN1cnJlbnQgcG9pbnQncyBwb3NpdGlvbiBpbiBjYXNlIHRoZSBkcmFnIHdvbid0IGJlIHZhbGlkLiBJbiB0aGlzIGNhc2UsIHdlJ2xsIHJlc3RvcmUgdGhlIGN1cnJlbnQgcG9pbnQuXG4gICAgICAgIHRoaXMucG9pbnRCYWNrdXAgPSB0aGlzLnBvaW50VmFsaWRbaW5kZXhdXG4gICAgICAgICAgICA/IHRoaXMucG9pbnRzW2luZGV4XS5jbG9uZSgpXG4gICAgICAgICAgICA6IG51bGw7XG5cbiAgICAgICAgLy8gU3RhcnQgY29vcmQgcGlja2VyXG4gICAgICAgIGlmICghdGhpcy52aWV3ZXIudG9vbENvbnRyb2xsZXIuaXNUb29sQWN0aXZhdGVkKHRoaXMuY29vcmRQaWNrZXIuZ2V0TmFtZSgpKSkge1xuICAgICAgICAgICAgdGhpcy52aWV3ZXIudG9vbENvbnRyb2xsZXIuYWN0aXZhdGVUb29sKHRoaXMuY29vcmRQaWNrZXIuZ2V0TmFtZSgpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2VsZWN0aW5nSW5kZXggPSBpbmRleDtcblxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmRyYWdnYWJsZSkge1xuICAgICAgICAgICAgdGhpcy5jb29yZFBpY2tlci5zZXREcmFnZ2luZyhlbmFibGVEcmFnKTtcbiAgICAgICAgICAgIHRoaXMuc2V0TWFya2Vyc0RyYWdnYWJsZShmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmZpcmVFdmVudCh7XG4gICAgICAgICAgICB0eXBlOiBFdmVudHMuUE9JTlRfU0VMRUNUSU9OX1NUQVJURUQsXG4gICAgICAgICAgICBpbmRleDogdGhpcy5zZWxlY3RpbmdJbmRleCxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgb25EcmFnRW5kZWQoeyBldmVudCB9KSB7XG4gICAgICAgIGlmICghdGhpcy5jb29yZFBpY2tlci5nZXREcmFnZ2luZygpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvb3JkUGlja2VyLmhhbmRsZVNpbmdsZUNsaWNrKGV2ZW50LCAwKTtcbiAgICAgICAgdGhpcy5jb29yZFBpY2tlci5zZXREcmFnZ2luZyhmYWxzZSk7XG4gICAgfVxuXG4gICAgc3RhcnRTZWxlY3QoKSB7XG4gICAgICAgIHRoaXMuaXNBY3RpdmUgPSB0cnVlO1xuICAgICAgICB0aGlzLmNvbnRpbnVlUG9pbnRTZWxlY3Rpb25JZk5lZWRlZCgpO1xuICAgIH1cblxuICAgIC8vIEBwYXJhbSB7VmVjdG9yM30gW2Zyb21dIC0gVXNlIG51bGwvdW5kZWZpbmVkIGZvciBjbGVhcmluZyB0aGUgZnJvbVBvaW50LlxuICAgIHNldFBvaW50KGluZGV4LCBwb2ludCkge1xuICAgICAgICB0aGlzLnBvaW50VmFsaWRbaW5kZXhdID0gISFwb2ludDtcblxuICAgICAgICBpZiAodGhpcy5wb2ludFZhbGlkW2luZGV4XSkge1xuICAgICAgICAgICAgdGhpcy5wb2ludHNbaW5kZXhdLmNvcHkocG9pbnQpO1xuXG4gICAgICAgICAgICAvLyB1cGRhdGUgcG9pbnQgbWFya2VyXG4gICAgICAgICAgICB0aGlzLm1hcmtlcnNbaW5kZXhdLnNldFBvc2l0aW9uKHBvaW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudXBkYXRlR2l6bW9zKCk7XG4gICAgfVxuXG4gICAgdXBkYXRlR2l6bW9WaXNpYmlsaXR5KGdpem1vLCB2aXNpYmxlLCBza2lwRmFkZSkge1xuICAgICAgICBpZiAodmlzaWJsZSB8fCBza2lwRmFkZSkge1xuICAgICAgICAgICAgLy8gU2hvdy9IaWRlIGltbWVkaWF0ZWx5LlxuICAgICAgICAgICAgdGhpcy5zY3JlZW5PdmVybGF5LnNldEdpem1vVmlzaWJsZShnaXptbywgdmlzaWJsZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBCeSBkZWZhdWx0LCBoaWRpbmcgaXMgZG9uZSBhcyBzbW9vdGggZmFkZW91dC5cbiAgICAgICAgICAgIHRoaXMuc2NyZWVuT3ZlcmxheS5mYWRlT3V0R2l6bW8oZ2l6bW8pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gU2hvdyBkYXNoZWQgbGluZSBvciBhcnJvdyBpZiBmcm9tL3RvIGFyZSBib3RoIHZhbGlkXG4gICAgdXBkYXRlR2l6bW9zKHNraXBGYWRlKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5OOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHZpc2libGUgPSB0aGlzLnNob3dNYXJrZXJzW2ldICYmIHRoaXMudmlzaWJsZSAmJiB0aGlzLnBvaW50VmFsaWRbaV07XG4gICAgICAgICAgICB0aGlzLm1hcmtlcnNbaV0uc2V0VmlzaWJsZSh2aXNpYmxlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb25uZWN0b3JzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjb25uZWN0b3IgPSB0aGlzLmNvbm5lY3RvcnNbaV07XG4gICAgICAgICAgICAvLyBEZWNpZGUgd2hldGhlciB0byBzaG93IHRoZSBjb25uZWN0aW9uIGJldHdlZW4gYm90aCBwb2ludHNcbiAgICAgICAgICAgIGNvbnN0IHNob3dHaXptbyA9XG4gICAgICAgICAgICAgICAgdGhpcy52aXNpYmxlICYmXG4gICAgICAgICAgICAgICAgdGhpcy5wb2ludFZhbGlkW2Nvbm5lY3Rvci5mcm9tSW5kZXhdICYmXG4gICAgICAgICAgICAgICAgdGhpcy5wb2ludFZhbGlkW2Nvbm5lY3Rvci50b0luZGV4XTtcblxuICAgICAgICAgICAgdGhpcy51cGRhdGVHaXptb1Zpc2liaWxpdHkoY29ubmVjdG9yLmdpem1vLCBzaG93R2l6bW8sIHNraXBGYWRlKTtcblxuICAgICAgICAgICAgaWYgKHNob3dHaXptbykge1xuICAgICAgICAgICAgICAgIGNvbm5lY3Rvci5zZXRGcm9tKHRoaXMucG9pbnRzW2Nvbm5lY3Rvci5mcm9tSW5kZXhdKTtcbiAgICAgICAgICAgICAgICBjb25uZWN0b3Iuc2V0VG8odGhpcy5wb2ludHNbY29ubmVjdG9yLnRvSW5kZXhdKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNvbm5lY3Rvci5sYWJlbCkge1xuICAgICAgICAgICAgICAgIGNvbm5lY3Rvci5sYWJlbC5zZXRPcGFjaXR5KHNob3dHaXptbyA/IDEgOiAwLCB0cnVlKTtcblxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBkaXN0YW5jZSB2YWx1ZSBvbmx5IGlmIGxhYmVsIGlzIHZpc2libGUuXG4gICAgICAgICAgICAgICAgaWYgKHNob3dHaXptbykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gY29ubmVjdG9yLmdldEVkZ2VMYWJlbFRleHQoaSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rvci5sYWJlbC5zZXRUZXh0KHRleHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGVuc3VyZSByZWZyZXNoIGlmIG9ubHkgcG9zaXRpb24gaGFzIGNoYW5nZWRcbiAgICAgICAgdGhpcy5zY3JlZW5PdmVybGF5LnVwZGF0ZSgpO1xuICAgIH1cblxuICAgIGNsZWFyUG9pbnQoaW5kZXgpIHtcbiAgICAgICAgdGhpcy5wb2ludFZhbGlkW2luZGV4XSA9IGZhbHNlO1xuICAgICAgICB0aGlzLm1hcmtlcnNbaW5kZXhdLnNldFZpc2libGUoZmFsc2UpO1xuXG4gICAgICAgIHRoaXMudXBkYXRlR2l6bW9zKCk7XG4gICAgfVxuXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHRoaXMuY2FuY2VsUG9pbnRTZWxlY3Rpb24oKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuTjsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnBvaW50VmFsaWRbaV0gPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMubWFya2Vyc1tpXS5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2VsZWN0aW5nSW5kZXggPSAtMTtcbiAgICAgICAgdGhpcy5sYXN0U2VsZWN0ZWRQb2ludCA9IC0xO1xuXG4gICAgICAgIHRoaXMudXBkYXRlR2l6bW9zKCk7XG5cbiAgICAgICAgdGhpcy5pc0FjdGl2ZSA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuZmlyZUV2ZW50KHsgdHlwZTogRXZlbnRzLkNMRUFSIH0pO1xuICAgIH1cblxuICAgIG9uUG9pbnRIb3ZlcmVkKGV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGluZ0luZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXRQb2ludCh0aGlzLnNlbGVjdGluZ0luZGV4LCBldmVudC5wb2ludCk7XG4gICAgICAgIHRoaXMuZmlyZUV2ZW50KHtcbiAgICAgICAgICAgIHR5cGU6IEV2ZW50cy5QT0lOVF9IT1ZFUkVELFxuICAgICAgICAgICAgcG9pbnQ6IGV2ZW50LnBvaW50LFxuICAgICAgICAgICAgaW5kZXg6IHRoaXMuc2VsZWN0aW5nSW5kZXgsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9uUG9pbnRDbGlja2VkKHsgcG9pbnQgfSwgcGlja0Fub3RoZXIgPSB0cnVlKSB7XG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGluZ0luZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSW4gY2FzZSBub3QgcG9pbnQgd2FzIHNlbGVjdGVkLCB0cnkgcmVzdG9yaW5nIHBvaW50IGJhY2t1cC5cbiAgICAgICAgcG9pbnQgPSBwb2ludCB8fCB0aGlzLnBvaW50QmFja3VwO1xuXG4gICAgICAgIC8vIENsZWFyIHBvaW50IGJhY2t1cFxuICAgICAgICB0aGlzLnBvaW50QmFja3VwID0gbnVsbDtcblxuICAgICAgICAvLyBUT0RPOiBBdm9pZCB0aGlzIGhhY2suIEZvciB0aGlzLCB0aGUgT3JiaXREb2xseVBhblRvb2wgc2hvdWxkIHN0b3AgbG9ja2luZyB0aGUgVG9vbENvbnRyb2xsZXIgYW5kXG4gICAgICAgIC8vICAgICAgIHByb3Blcmx5IGhhbmRsZSB0aGUgY2FzZSB0byBiZSBkaXNhYmxlZCB3aXRoaW4gYW4gaW50ZXJhY3Rpb24gLSB3aXRob3V0IGdsb2JhbCBibG9ja2luZyB0aGUgVG9vbENvbnRyb2xsZXIuXG4gICAgICAgIHRoaXMudmlld2VyLnRvb2xDb250cm9sbGVyLnNldElzTG9ja2VkKGZhbHNlKTtcbiAgICAgICAgdGhpcy52aWV3ZXIudG9vbENvbnRyb2xsZXIuZGVhY3RpdmF0ZVRvb2wodGhpcy5jb29yZFBpY2tlci5nZXROYW1lKCkpO1xuXG4gICAgICAgIGlmIChwb2ludCkge1xuICAgICAgICAgICAgLy8gU2V0IHBpdm90IHRvIHNlbGVjdGVkIHBvaW50LCBzbyB0aGF0IHdlIGNhbiBvcmJpdCBhcm91bmQgaXRcbiAgICAgICAgICAgIHRoaXMudmlld2VyLmltcGwuY2FtZXJhLnBpdm90LmNvcHkocG9pbnQpO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXIuaW1wbC5jYW1lcmEuZGlydHkgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXRQb2ludCh0aGlzLnNlbGVjdGluZ0luZGV4LCBwb2ludCk7XG5cbiAgICAgICAgdGhpcy5zZXRNYXJrZXJzRHJhZ2dhYmxlKHRydWUpO1xuXG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5zZWxlY3RpbmdJbmRleDtcblxuICAgICAgICB0aGlzLnNlbGVjdGluZ0luZGV4ID0gLTE7XG5cbiAgICAgICAgaWYgKHBvaW50KSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RTZWxlY3RlZFBvaW50ID0gTWF0aC5tYXgoaW5kZXgsIHRoaXMubGFzdFNlbGVjdGVkUG9pbnQpO1xuICAgICAgICAgICAgdGhpcy5maXJlRXZlbnQoeyB0eXBlOiBFdmVudHMuUE9JTlRfU0VMRUNURUQsIHBvaW50LCBpbmRleCB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFN0YXJ0IHBpY2tpbmcgYW5vdGhlciBwb2ludCBpZjpcbiAgICAgICAgLy8gLSBwaWNrQW5vdGhlciBmbGFnIGlzIHNldFxuICAgICAgICAvLyAtIFdlIGp1c3Qgc2VsZWN0ZWQgYSBwb2ludCwgYW5kIGl0J3Mgbm90IGEgc3RvcCBwb2ludCBpbmRleC5cbiAgICAgICAgaWYgKHBpY2tBbm90aGVyICYmICEocG9pbnQgJiYgdGhpcy5zdG9wcy5pbmNsdWRlcyh0aGlzLmxhc3RTZWxlY3RlZFBvaW50KSkpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGludWVQb2ludFNlbGVjdGlvbklmTmVlZGVkKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRNYXJrZXJzRHJhZ2dhYmxlKGVuYWJsZSkge1xuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5kcmFnZ2FibGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5OOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGRyYWdnYWJsZSA9XG4gICAgICAgICAgICAgICAgZW5hYmxlICYmIHRoaXMudmlzaWJsZSAmJiB0aGlzLnBvaW50VmFsaWRbaV0gJiYgdGhpcy5zaG93TWFya2Vyc1tpXTtcbiAgICAgICAgICAgIHRoaXMubWFya2Vyc1tpXS5zZXREcmFnZ2FibGUoZHJhZ2dhYmxlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNhbmNlbFBvaW50U2VsZWN0aW9uKCkge1xuICAgICAgICB0aGlzLm9uUG9pbnRDbGlja2VkKHt9LCBmYWxzZSk7XG4gICAgfVxuXG4gICAgY29udGludWVQb2ludFNlbGVjdGlvbklmTmVlZGVkKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNQaWNrZXJBY3RpdmUoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSB0b29sIGlzIHZpc2libGUuXG4gICAgICAgIHRoaXMuc2V0VmlzaWJsZSh0cnVlKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuTjsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMucG9pbnRWYWxpZFtpXSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRTZWxlY3RQb2ludChpLCBmYWxzZSk7IFxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gTm90ZTogQnkgZGVmYXVsdCwgc2V0VmlzaWJsZShmYWxzZSkgdHJpZ2dlcnMgYSBzbW9vdGggZmFkZW91dC4gVXNlIHNraXBGYWRlPXRydWUgaWYgeW91IHdhbnQgdG8gZW5zdXJlIHRoYXQgZXZlcnl0aGluZyBpcyBpbnN0YW50bHkgaGlkZGVuLlxuICAgIHNldFZpc2libGUodmlzaWJsZSwgc2tpcEZhZGUpIHtcbiAgICAgICAgaWYgKHZpc2libGUgIT09IHRoaXMudmlzaWJsZSkge1xuICAgICAgICAgICAgdGhpcy52aXNpYmxlID0gdmlzaWJsZTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlR2l6bW9zKHNraXBGYWRlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFNob3J0Y3V0IGZvciByZWFkYWJpbGl0eTogSGlkZSBpbW1lZGlhdGVseSB3aXRob3V0IGFueSBmYWRlLW91dC5cbiAgICBmb3JjZUhpZGUoKSB7XG4gICAgICAgIHRoaXMuc2V0VmlzaWJsZShmYWxzZSwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgYXJlQWxsUG9pbnRzU2V0KCkge1xuICAgICAgICBpZiAodGhpcy5zZWxlY3RpbmdJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5OOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5wb2ludFZhbGlkW2ldKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaXNQaWNrZXJBY3RpdmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzQWN0aXZlO1xuICAgIH1cblxuICAgIGF0dGFjaFBvaW50c1RvTW9kZWwobW9kZWwsIHBvaW50cykge1xuICAgICAgICB0aGlzLnNldE1vZGVsc1RvUG9pbnRzTWFwKE9iamVjdC5hc3NpZ24oe30sIHRoaXMubW9kZWxzVG9Qb2ludHNNYXAsIHsgW21vZGVsLmlkXTogcG9pbnRzIH0pKTtcbiAgICB9XG4gICAgXG4gICAgLy8gTW9kZWxzVG9Qb2ludHNNYXAgaXMgdXNlZCB0byBkZWZpbmUgYSBjb25uZWN0aW9uIGJldHdlZW4gcG9pbnRzIGFuZCBzcGVjaWZpYyBtb2RlbHMuXG4gICAgLy8gSXQgaXMgY3VycmVudGx5IGJlaW5nIHVzZWQgaW4gb3JkZXIgdG8gdXBkYXRlIHRoZSBwb2ludHMgYWNjb3JkaW5nIHRvIG1vZGVsIHRyYW5zZm9ybSBjaGFuZ2VzLlxuICAgIC8vIENvdWxkIGJlIGFsc28gdXNlZCBpbiB0aGUgZnV0dXJlIGZvciBsaW1pdGluZyB0aGUgc25hcHBlciB0byBzbmFwIG9ubHkgb24gdGhlIGF0dGFjaGVkIG1vZGVsLlxuICAgIHNldE1vZGVsc1RvUG9pbnRzTWFwKG1hcCkge1xuICAgICAgICB0aGlzLm1vZGVsc1RvUG9pbnRzTWFwID0gbWFwO1xuXG4gICAgICAgIGNvbnN0IGlkcyA9IE9iamVjdC5rZXlzKHRoaXMubW9kZWxzVG9Qb2ludHNNYXApO1xuXG4gICAgICAgIGlmIChpZHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaWRzLmZvckVhY2goaWQgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vZGVsID0gdGhpcy52aWV3ZXIuaW1wbC5maW5kTW9kZWwoTnVtYmVyKGlkKSwgdHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICAvLyBVc2VkIGluIG9yZGVyIHRvIGNhbGN1bGF0ZSB0aGUgaW5pdGlhbCB0cmFuc2Zvcm0gZGlmZiBsYXRlci5cbiAgICAgICAgICAgICAgICBjb25zdCBtYXRyaXggPSBtb2RlbC5nZXRNb2RlbFRyYW5zZm9ybSgpPy5jbG9uZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMubW9kZWxzVG9Qb2ludHNNYXBbaWRdLm1hdHJpeCA9IG1hdHJpeCB8fCBuZXcgQXV0b2Rlc2suVmlld2luZy5Qcml2YXRlLkxtdk1hdHJpeDQodHJ1ZSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLnZpZXdlci5oYXNFdmVudExpc3RlbmVyKEF1dG9kZXNrLlZpZXdpbmcuTU9ERUxfVFJBTlNGT1JNX0NIQU5HRURfRVZFTlQsIHRoaXMub25Nb2RlbFRyYW5zZm9ybUNoYW5nZWQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3ZXIuYWRkRXZlbnRMaXN0ZW5lcihBdXRvZGVzay5WaWV3aW5nLk1PREVMX1RSQU5TRk9STV9DSEFOR0VEX0VWRU5ULCB0aGlzLm9uTW9kZWxUcmFuc2Zvcm1DaGFuZ2VkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gUmVtb3ZlIGV2ZW50IGlmIHRoZXJlIGlzIG5vIG1hcHBpbmcuXG4gICAgICAgICAgICB0aGlzLnZpZXdlci5yZW1vdmVFdmVudExpc3RlbmVyKEF1dG9kZXNrLlZpZXdpbmcuTU9ERUxfVFJBTlNGT1JNX0NIQU5HRURfRVZFTlQsIHRoaXMub25Nb2RlbFRyYW5zZm9ybUNoYW5nZWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIHBvaW50cyB0aGF0IGFyZSBhdHRhY2hlZCB0byBhIHNwZWNpZmljIG1vZGVsLCBpbiBjYXNlIGl0IG1vdmVkLlxuICAgIG9uTW9kZWxUcmFuc2Zvcm1DaGFuZ2VkKHsgbW9kZWwsIG1hdHJpeCB9KSB7XG4gICAgICAgIC8vIE5vIG1hcDtcbiAgICAgICAgaWYgKCF0aGlzLm1vZGVsc1RvUG9pbnRzTWFwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBwb2ludEluZGV4ZXMgPSB0aGlzLm1vZGVsc1RvUG9pbnRzTWFwW21vZGVsLmlkXTtcblxuICAgICAgICAvLyBNb2RlbCBub3QgaW4gbWFwIC0gbm90aGluZyB0byB1cGRhdGUuXG4gICAgICAgIGlmICghcG9pbnRJbmRleGVzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDYWxjdWxhdGUgZGlmZiBtYXRyaXguXG4gICAgICAgIGNvbnN0IHByZXZpb3VzTWF0cml4ID0gdGhpcy5tb2RlbHNUb1BvaW50c01hcFttb2RlbC5pZF0ubWF0cml4O1xuICAgICAgICBjb25zdCBkaWZmTWF0cml4ID0gcHJldmlvdXNNYXRyaXguaW52ZXJ0KCk7XG4gICAgICAgIGRpZmZNYXRyaXgubXVsdGlwbHlNYXRyaWNlcyhtYXRyaXgsIGRpZmZNYXRyaXgpO1xuXG4gICAgICAgIC8vIFVwZGF0ZSBmb3IgbmV4dCB0aW1lLlxuICAgICAgICB0aGlzLm1vZGVsc1RvUG9pbnRzTWFwW21vZGVsLmlkXS5tYXRyaXggPSBtYXRyaXguY2xvbmUoKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuTjsgaSsrKSB7XG4gICAgICAgICAgICBpZiAocG9pbnRJbmRleGVzLmluY2x1ZGVzKGkpICYmIHRoaXMucG9pbnRWYWxpZFtpXSkge1xuXG4gICAgICAgICAgICAgICAgY29uc3QgcG9pbnQgPSB0aGlzLnBvaW50c1tpXTtcbiAgICAgICAgICAgICAgICBwb2ludC5hcHBseU1hdHJpeDQoZGlmZk1hdHJpeCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRQb2ludChpLCBwb2ludCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbk5Qb2ludFBpY2tlci5FdmVudHMgPSBFdmVudHM7XG5OUG9pbnRQaWNrZXIuQ29sb3JzID0gQ29sb3JzO1xuTlBvaW50UGlja2VyLkNvbm5lY3RvclR5cGVzID0gQ29ubmVjdG9yVHlwZXM7XG4iXSwibmFtZXMiOlsiQ29vcmRQaWNrZXIiLCJQb2ludE1hcmtlciIsIkV2ZW50cyIsIlBPSU5UX1NFTEVDVEVEIiwiUE9JTlRfSE9WRVJFRCIsIlBPSU5UX1NFTEVDVElPTl9TVEFSVEVEIiwiQ0xFQVIiLCJDb2xvcnMiLCJCbHVlIiwiUmVkIiwiQmxhY2siLCJXaGl0ZSIsIkNvbm5lY3RvclR5cGVzIiwiTGluZSIsIkFycm93IiwiTlBvaW50UGlja2VyIiwiY29uc3RydWN0b3IiLCJ2aWV3ZXIiLCJjb29yZFBpY2tlciIsInNjcmVlbk92ZXJsYXkiLCJOIiwib3B0aW9ucyIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsIkF1dG9kZXNrIiwiVmlld2luZyIsIkV2ZW50RGlzcGF0Y2hlciIsInByb3RvdHlwZSIsImFwcGx5Iiwic2VsZWN0aW5nSW5kZXgiLCJsYXN0U2VsZWN0ZWRQb2ludCIsImFkZEV2ZW50TGlzdGVuZXIiLCJQT0lOVF9DTElDS0VEIiwiZXZlbnQiLCJvblBvaW50Q2xpY2tlZCIsIm9uUG9pbnRIb3ZlcmVkIiwiRVNDQVBFIiwiaXNEcmFnZ2luZyIsImNhbmNlbFBvaW50U2VsZWN0aW9uIiwicG9pbnRzIiwicG9pbnRWYWxpZCIsIm1hcmtlcnMiLCJzaG93TWFya2VycyIsIkFycmF5IiwiZmlsbCIsImkiLCJwdXNoIiwiVEhSRUUiLCJWZWN0b3IzIiwiY29sb3IiLCJjb2xvcnMiLCJsYWJlbCIsImxhYmVscyIsImljb24iLCJpY29ucyIsIm1hcmtlciIsImRyYWdnYWJsZSIsIkRSQUdfU1RBUlQiLCJzdGFydFNlbGVjdFBvaW50IiwiRFJBR19FTkQiLCJvbkRyYWdFbmRlZCIsInNldFZpc2libGUiLCJzZXRDb2xvciIsImxhYmVsU3R5bGVzIiwiT2JqZWN0Iiwia2V5cyIsImZvckVhY2giLCJrZXkiLCJjb250YWluZXIiLCJzdHlsZSIsImNvbm5lY3Rpb25zRGF0YSIsImNvbm5lY3Rpb25zIiwiY29ubmVjdG9ycyIsImNvbm5lY3Rpb25EYXRhIiwibGluZVN0eWxlIiwiRWRpdDJEIiwiU3R5bGUiLCJsaW5lV2lkdGgiLCJsaW5lQ29sb3IiLCJnaXptbyIsImF0dGFjaGFibGVPYmplY3QiLCJzZXRGcm9tIiwic2V0VG8iLCJ0eXBlIiwiU2NyZWVuT3ZlcmxheSIsIkxpbmUzREdpem1vIiwibGluZTJEIiwiY29weSIsImEiLCJiaW5kIiwiYiIsIkFycm93M0RHaXptbyIsImFycm93IiwibGluZSIsImhlYWQiLCJmaWxsQ29sb3IiLCJzZXRIZWFkTGVuZ3RoIiwic2V0SGVhZEFuZ2xlIiwiY29uc29sZSIsIndhcm4iLCJnZXRFZGdlTGFiZWxUZXh0IiwiRWRnZUxhYmVsIiwibGF5ZXIiLCJhdHRhY2hUb0VkZ2UiLCJsYWJlbFN0eWxlIiwiZnJvbUluZGV4IiwidG9JbmRleCIsInZpc2libGUiLCJzdG9wcyIsIm9uTW9kZWxUcmFuc2Zvcm1DaGFuZ2VkIiwibW9kZWxzVG9Qb2ludHNNYXAiLCJkdG9yIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIk1PREVMX1RSQU5TRk9STV9DSEFOR0VEX0VWRU5UIiwiaW5kZXgiLCJlbmFibGVEcmFnIiwicG9pbnRCYWNrdXAiLCJjbG9uZSIsInRvb2xDb250cm9sbGVyIiwiaXNUb29sQWN0aXZhdGVkIiwiZ2V0TmFtZSIsImFjdGl2YXRlVG9vbCIsInNldERyYWdnaW5nIiwic2V0TWFya2Vyc0RyYWdnYWJsZSIsImZpcmVFdmVudCIsIl9yZWYiLCJnZXREcmFnZ2luZyIsImhhbmRsZVNpbmdsZUNsaWNrIiwic3RhcnRTZWxlY3QiLCJpc0FjdGl2ZSIsImNvbnRpbnVlUG9pbnRTZWxlY3Rpb25JZk5lZWRlZCIsInNldFBvaW50IiwicG9pbnQiLCJzZXRQb3NpdGlvbiIsInVwZGF0ZUdpem1vcyIsInVwZGF0ZUdpem1vVmlzaWJpbGl0eSIsInNraXBGYWRlIiwic2V0R2l6bW9WaXNpYmxlIiwiZmFkZU91dEdpem1vIiwiY29ubmVjdG9yIiwic2hvd0dpem1vIiwic2V0T3BhY2l0eSIsInRleHQiLCJzZXRUZXh0IiwidXBkYXRlIiwiY2xlYXJQb2ludCIsImNsZWFyIiwiX3JlZjIiLCJwaWNrQW5vdGhlciIsInNldElzTG9ja2VkIiwiZGVhY3RpdmF0ZVRvb2wiLCJpbXBsIiwiY2FtZXJhIiwicGl2b3QiLCJkaXJ0eSIsIk1hdGgiLCJtYXgiLCJpbmNsdWRlcyIsImVuYWJsZSIsInNldERyYWdnYWJsZSIsImlzUGlja2VyQWN0aXZlIiwiZm9yY2VIaWRlIiwiYXJlQWxsUG9pbnRzU2V0IiwiYXR0YWNoUG9pbnRzVG9Nb2RlbCIsIm1vZGVsIiwic2V0TW9kZWxzVG9Qb2ludHNNYXAiLCJhc3NpZ24iLCJpZCIsIm1hcCIsImlkcyIsIl9tb2RlbCRnZXRNb2RlbFRyYW5zZiIsImZpbmRNb2RlbCIsIk51bWJlciIsIm1hdHJpeCIsImdldE1vZGVsVHJhbnNmb3JtIiwiUHJpdmF0ZSIsIkxtdk1hdHJpeDQiLCJoYXNFdmVudExpc3RlbmVyIiwiX3JlZjMiLCJwb2ludEluZGV4ZXMiLCJwcmV2aW91c01hdHJpeCIsImRpZmZNYXRyaXgiLCJpbnZlcnQiLCJtdWx0aXBseU1hdHJpY2VzIiwiYXBwbHlNYXRyaXg0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./extensions/Edit3D/NPointPicker.js\n");

                /***/
            }),

        /***/
        "./extensions/Edit3D/PointMarker.js":
            /*!******************************************!*\
              !*** ./extensions/Edit3D/PointMarker.js ***!
              \******************************************/
            /***/
            ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

                "use strict";
                eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PointMarker)\n/* harmony export */ });\n/* harmony import */ var _Label3D_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Label3D.js */ \"./extensions/Edit3D/Label3D.js\");\n\n\n\nconst createIcon = (icon) => {\n  return [\n  '<svg width=\"50\" height=\"50\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">',\n  '<g stroke-width=\"2\" stroke=\"currentColor\" fill=\"none\">',\n  icon,\n  '</g>',\n  '</svg>'].\n  join('');\n};\n\nconst Icons = {\n  Cross: '<path d=\"M0 25 L50 25 M25 0 L25 50\"/>',\n  Circle: '<circle r=\"5\" cx=\"25\" cy=\"27.5\" fill=\"currentColor\" stroke-width=\"0\" />',\n  Empty: ''\n};\n\nclass PointMarker extends _Label3D_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n\n  constructor(viewer, pos3D, labelText) {let icon = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : Icons.Cross;\n    super(viewer, pos3D, null);\n\n    this.container.innerHTML = createIcon(icon);\n\n    // Create another label for the text\n    if (labelText) {\n      this.label = new _Label3D_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](viewer, pos3D, labelText);\n\n      // Center text above the actual position\n      this.label.setVerticalOffset(-45);\n    }\n\n    // Set label visible by default. If text is empty, it is hidden anyway. \n    this.labelVisible = true;\n  }\n\n  // @param {string} Color string in css style (e.g. 'rgb(255, 255, 255)');\n  setColor(color) {\n    this.container.style.color = color;\n  }\n\n  setPosition(pos) {\n    super.setPosition(pos);\n    this.label && this.label.setPosition(pos);\n  }\n\n  setVisible(visible) {\n    super.setVisible(visible);\n    this.label && this.label.setVisible(this.labelVisible && visible);\n  }\n\n  setLabelVisible(visible) {\n    this.label && this.label.setVisible(this.visible && visible);\n  }\n}\n\nPointMarker.Events = _Label3D_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Events;\nPointMarker.Icons = Icons;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL0VkaXQzRC9Qb2ludE1hcmtlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFDbUM7O0FBRW5DLE1BQU1DLFVBQVUsR0FBR0EsQ0FBQ0MsSUFBSSxLQUFLO0VBQ3pCLE9BQU87RUFDSCw0R0FBNEc7RUFDeEcsd0RBQXdEO0VBQ3BEQSxJQUFJO0VBQ1IsTUFBTTtFQUNWLFFBQVEsQ0FDWDtFQUFDQyxJQUFJLENBQUMsRUFBRSxDQUFDO0FBQ2QsQ0FBQzs7QUFFRCxNQUFNQyxLQUFLLEdBQUc7RUFDVkMsS0FBSyxFQUFFLHVDQUF1QztFQUM5Q0MsTUFBTSxFQUFFLHlFQUF5RTtFQUNqRkMsS0FBSyxFQUFFO0FBQ1gsQ0FBQzs7QUFFYyxNQUFNQyxXQUFXLFNBQVNSLG1EQUFPLENBQUM7O0VBRTdDUyxXQUFXQSxDQUFDQyxNQUFNLEVBQUVDLEtBQUssRUFBRUMsU0FBUyxFQUFzQixLQUFwQlYsSUFBSSxHQUFBVyxTQUFBLENBQUFDLE1BQUEsUUFBQUQsU0FBQSxRQUFBRSxTQUFBLEdBQUFGLFNBQUEsTUFBR1QsS0FBSyxDQUFDQyxLQUFLO0lBQ3BELEtBQUssQ0FBQ0ssTUFBTSxFQUFFQyxLQUFLLEVBQUUsSUFBSSxDQUFDOztJQUUxQixJQUFJLENBQUNLLFNBQVMsQ0FBQ0MsU0FBUyxHQUFHaEIsVUFBVSxDQUFDQyxJQUFJLENBQUM7O0lBRTNDO0lBQ0EsSUFBSVUsU0FBUyxFQUFFO01BQ1gsSUFBSSxDQUFDTSxLQUFLLEdBQUcsSUFBSWxCLG1EQUFPLENBQUNVLE1BQU0sRUFBRUMsS0FBSyxFQUFFQyxTQUFTLENBQUM7O01BRWxEO01BQ0EsSUFBSSxDQUFDTSxLQUFLLENBQUNDLGlCQUFpQixDQUFDLENBQUMsRUFBRSxDQUFDO0lBQ3JDOztJQUVBO0lBQ0EsSUFBSSxDQUFDQyxZQUFZLEdBQUcsSUFBSTtFQUM1Qjs7RUFFQTtFQUNBQyxRQUFRQSxDQUFDQyxLQUFLLEVBQUU7SUFDWixJQUFJLENBQUNOLFNBQVMsQ0FBQ08sS0FBSyxDQUFDRCxLQUFLLEdBQUdBLEtBQUs7RUFDdEM7O0VBRUFFLFdBQVdBLENBQUNDLEdBQUcsRUFBRTtJQUNiLEtBQUssQ0FBQ0QsV0FBVyxDQUFDQyxHQUFHLENBQUM7SUFDdEIsSUFBSSxDQUFDUCxLQUFLLElBQUksSUFBSSxDQUFDQSxLQUFLLENBQUNNLFdBQVcsQ0FBQ0MsR0FBRyxDQUFDO0VBQzdDOztFQUVBQyxVQUFVQSxDQUFDQyxPQUFPLEVBQUU7SUFDaEIsS0FBSyxDQUFDRCxVQUFVLENBQUNDLE9BQU8sQ0FBQztJQUN6QixJQUFJLENBQUNULEtBQUssSUFBSSxJQUFJLENBQUNBLEtBQUssQ0FBQ1EsVUFBVSxDQUFDLElBQUksQ0FBQ04sWUFBWSxJQUFJTyxPQUFPLENBQUM7RUFDckU7O0VBRUFDLGVBQWVBLENBQUNELE9BQU8sRUFBRTtJQUNyQixJQUFJLENBQUNULEtBQUssSUFBSSxJQUFJLENBQUNBLEtBQUssQ0FBQ1EsVUFBVSxDQUFDLElBQUksQ0FBQ0MsT0FBTyxJQUFJQSxPQUFPLENBQUM7RUFDaEU7QUFDSjs7QUFFQW5CLFdBQVcsQ0FBQ3FCLE1BQU0sR0FBRzdCLG1EQUFPLENBQUM2QixNQUFNO0FBQ25DckIsV0FBVyxDQUFDSixLQUFLLEdBQUdBLEtBQUsiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9BdXRvZGVzay5FeHRlbnNpb25zLy4vZXh0ZW5zaW9ucy9FZGl0M0QvUG9pbnRNYXJrZXIuanM/NTUwZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCBMYWJlbDNEIGZyb20gJy4vTGFiZWwzRC5qcyc7IFxuXG5jb25zdCBjcmVhdGVJY29uID0gKGljb24pID0+IHtcbiAgICByZXR1cm4gW1xuICAgICAgICAnPHN2ZyB3aWR0aD1cIjUwXCIgaGVpZ2h0PVwiNTBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCI+JyxcbiAgICAgICAgICAgICc8ZyBzdHJva2Utd2lkdGg9XCIyXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgZmlsbD1cIm5vbmVcIj4nLFxuICAgICAgICAgICAgICAgIGljb24sXG4gICAgICAgICAgICAnPC9nPicsXG4gICAgICAgICc8L3N2Zz4nXG4gICAgXS5qb2luKCcnKTtcbn07XG5cbmNvbnN0IEljb25zID0ge1xuICAgIENyb3NzOiAnPHBhdGggZD1cIk0wIDI1IEw1MCAyNSBNMjUgMCBMMjUgNTBcIi8+JyxcbiAgICBDaXJjbGU6ICc8Y2lyY2xlIHI9XCI1XCIgY3g9XCIyNVwiIGN5PVwiMjcuNVwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBzdHJva2Utd2lkdGg9XCIwXCIgLz4nLFxuICAgIEVtcHR5OiAnJ1xufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9pbnRNYXJrZXIgZXh0ZW5kcyBMYWJlbDNEIHtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdlciwgcG9zM0QsIGxhYmVsVGV4dCwgaWNvbiA9IEljb25zLkNyb3NzKSB7XG4gICAgICAgIHN1cGVyKHZpZXdlciwgcG9zM0QsIG51bGwpO1xuXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmlubmVySFRNTCA9IGNyZWF0ZUljb24oaWNvbik7XG4gICAgXG4gICAgICAgIC8vIENyZWF0ZSBhbm90aGVyIGxhYmVsIGZvciB0aGUgdGV4dFxuICAgICAgICBpZiAobGFiZWxUZXh0KSB7XG4gICAgICAgICAgICB0aGlzLmxhYmVsID0gbmV3IExhYmVsM0Qodmlld2VyLCBwb3MzRCwgbGFiZWxUZXh0KTtcblxuICAgICAgICAgICAgLy8gQ2VudGVyIHRleHQgYWJvdmUgdGhlIGFjdHVhbCBwb3NpdGlvblxuICAgICAgICAgICAgdGhpcy5sYWJlbC5zZXRWZXJ0aWNhbE9mZnNldCgtNDUpOyBcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNldCBsYWJlbCB2aXNpYmxlIGJ5IGRlZmF1bHQuIElmIHRleHQgaXMgZW1wdHksIGl0IGlzIGhpZGRlbiBhbnl3YXkuIFxuICAgICAgICB0aGlzLmxhYmVsVmlzaWJsZSA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gQHBhcmFtIHtzdHJpbmd9IENvbG9yIHN0cmluZyBpbiBjc3Mgc3R5bGUgKGUuZy4gJ3JnYigyNTUsIDI1NSwgMjU1KScpO1xuICAgIHNldENvbG9yKGNvbG9yKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLmNvbG9yID0gY29sb3I7XG4gICAgfVxuXG4gICAgc2V0UG9zaXRpb24ocG9zKSB7XG4gICAgICAgIHN1cGVyLnNldFBvc2l0aW9uKHBvcyk7XG4gICAgICAgIHRoaXMubGFiZWwgJiYgdGhpcy5sYWJlbC5zZXRQb3NpdGlvbihwb3MpO1xuICAgIH1cblxuICAgIHNldFZpc2libGUodmlzaWJsZSkge1xuICAgICAgICBzdXBlci5zZXRWaXNpYmxlKHZpc2libGUpO1xuICAgICAgICB0aGlzLmxhYmVsICYmIHRoaXMubGFiZWwuc2V0VmlzaWJsZSh0aGlzLmxhYmVsVmlzaWJsZSAmJiB2aXNpYmxlKTtcbiAgICB9XG5cbiAgICBzZXRMYWJlbFZpc2libGUodmlzaWJsZSkge1xuICAgICAgICB0aGlzLmxhYmVsICYmIHRoaXMubGFiZWwuc2V0VmlzaWJsZSh0aGlzLnZpc2libGUgJiYgdmlzaWJsZSk7XG4gICAgfVxufVxuXG5Qb2ludE1hcmtlci5FdmVudHMgPSBMYWJlbDNELkV2ZW50cztcblBvaW50TWFya2VyLkljb25zID0gSWNvbnM7Il0sIm5hbWVzIjpbIkxhYmVsM0QiLCJjcmVhdGVJY29uIiwiaWNvbiIsImpvaW4iLCJJY29ucyIsIkNyb3NzIiwiQ2lyY2xlIiwiRW1wdHkiLCJQb2ludE1hcmtlciIsImNvbnN0cnVjdG9yIiwidmlld2VyIiwicG9zM0QiLCJsYWJlbFRleHQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJjb250YWluZXIiLCJpbm5lckhUTUwiLCJsYWJlbCIsInNldFZlcnRpY2FsT2Zmc2V0IiwibGFiZWxWaXNpYmxlIiwic2V0Q29sb3IiLCJjb2xvciIsInN0eWxlIiwic2V0UG9zaXRpb24iLCJwb3MiLCJzZXRWaXNpYmxlIiwidmlzaWJsZSIsInNldExhYmVsVmlzaWJsZSIsIkV2ZW50cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./extensions/Edit3D/PointMarker.js\n");

                /***/
            }),

        /***/
        "./extensions/Edit3D/TwoPointPicker.js":
            /*!*********************************************!*\
              !*** ./extensions/Edit3D/TwoPointPicker.js ***!
              \*********************************************/
            /***/
            ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

                "use strict";
                eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ TwoPointPicker)\n/* harmony export */ });\n/* harmony import */ var _NPointPicker_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./NPointPicker.js */ \"./extensions/Edit3D/NPointPicker.js\");\n\n\n// Controls the user interaction workflow for aligning a model based on two selected points\n\n// Extend NPointPicker events.\nconst Events = Object.assign({}, _NPointPicker_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Events, {\n  FROM_POINT_SELECTED: 'fromPointSelected',\n  TO_POINT_SELECTED: 'toPointSelected',\n  FROM_POINT_HOVERED: 'fromPointHovered',\n  TO_POINT_HOVERED: 'toPointHovered'\n});\n\n// Implements the interaction to select two points: A 'fromPoint' and a 'toPoint'.\nclass TwoPointPicker extends _NPointPicker_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n\n  constructor(viewer, coordPicker, screenOverlay, options) {\n    super(viewer, coordPicker, screenOverlay, 2, options);\n\n    this.addEventListener(_NPointPicker_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Events.POINT_SELECTED, (_ref) => {let { point, index } = _ref;\n      if (index === 0) {\n        this.fireEvent({ type: Events.FROM_POINT_SELECTED, point });\n      } else {\n        this.fireEvent({ type: Events.TO_POINT_SELECTED, point });\n      }\n    });\n\n    this.addEventListener(_NPointPicker_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Events.POINT_HOVERED, (_ref2) => {let { point, index } = _ref2;\n      if (index === 0) {\n        this.fireEvent({ type: Events.FROM_POINT_HOVERED, point });\n      } else {\n        this.fireEvent({ type: Events.TO_POINT_HOVERED, point });\n      }\n    });\n  }\n\n  setOffset(offset) {\n    this.offset.copy(offset);\n  }\n\n  startSelectFrom() {\n    this.startSelectPoint(0);\n  }\n\n  startSelectTo() {\n    this.startSelectPoint(1);\n  }\n}\n\nTwoPointPicker.Events = Events;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9leHRlbnNpb25zL0VkaXQzRC9Ud29Qb2ludFBpY2tlci5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUE2Qzs7QUFFN0M7O0FBRUE7QUFDQSxNQUFNQyxNQUFNLEdBQUdDLE1BQU0sQ0FBQ0MsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFSCx3REFBWSxDQUFDQyxNQUFNLEVBQUU7RUFDbERHLG1CQUFtQixFQUFFLG1CQUFtQjtFQUN4Q0MsaUJBQWlCLEVBQUUsaUJBQWlCO0VBQ3BDQyxrQkFBa0IsRUFBRSxrQkFBa0I7RUFDdENDLGdCQUFnQixFQUFFO0FBQ3RCLENBQUMsQ0FBQzs7QUFFRjtBQUNlLE1BQU1DLGNBQWMsU0FBU1Isd0RBQVksQ0FBQzs7RUFFckRTLFdBQVdBLENBQUNDLE1BQU0sRUFBRUMsV0FBVyxFQUFFQyxhQUFhLEVBQUVDLE9BQU8sRUFBRTtJQUNyRCxLQUFLLENBQUNILE1BQU0sRUFBRUMsV0FBVyxFQUFFQyxhQUFhLEVBQUUsQ0FBQyxFQUFFQyxPQUFPLENBQUM7O0lBRXJELElBQUksQ0FBQ0MsZ0JBQWdCLENBQUNkLHdEQUFZLENBQUNDLE1BQU0sQ0FBQ2MsY0FBYyxFQUFFLENBQUFDLElBQUEsS0FBc0IsS0FBckIsRUFBRUMsS0FBSyxFQUFFQyxLQUFLLENBQUMsQ0FBQyxHQUFBRixJQUFBO01BQ3ZFLElBQUlFLEtBQUssS0FBSyxDQUFDLEVBQUU7UUFDYixJQUFJLENBQUNDLFNBQVMsQ0FBQyxFQUFFQyxJQUFJLEVBQUVuQixNQUFNLENBQUNHLG1CQUFtQixFQUFFYSxLQUFLLENBQUMsQ0FBQyxDQUFDO01BQy9ELENBQUMsTUFBTTtRQUNILElBQUksQ0FBQ0UsU0FBUyxDQUFDLEVBQUVDLElBQUksRUFBRW5CLE1BQU0sQ0FBQ0ksaUJBQWlCLEVBQUVZLEtBQUssQ0FBQyxDQUFDLENBQUM7TUFDN0Q7SUFDSixDQUFDLENBQUM7O0lBRUYsSUFBSSxDQUFDSCxnQkFBZ0IsQ0FBQ2Qsd0RBQVksQ0FBQ0MsTUFBTSxDQUFDb0IsYUFBYSxFQUFFLENBQUFDLEtBQUEsS0FBc0IsS0FBckIsRUFBRUwsS0FBSyxFQUFFQyxLQUFLLENBQUMsQ0FBQyxHQUFBSSxLQUFBO01BQ3RFLElBQUlKLEtBQUssS0FBSyxDQUFDLEVBQUU7UUFDYixJQUFJLENBQUNDLFNBQVMsQ0FBQyxFQUFFQyxJQUFJLEVBQUVuQixNQUFNLENBQUNLLGtCQUFrQixFQUFFVyxLQUFLLENBQUMsQ0FBQyxDQUFDO01BQzlELENBQUMsTUFBTTtRQUNILElBQUksQ0FBQ0UsU0FBUyxDQUFDLEVBQUVDLElBQUksRUFBRW5CLE1BQU0sQ0FBQ00sZ0JBQWdCLEVBQUVVLEtBQUssQ0FBQyxDQUFDLENBQUM7TUFDNUQ7SUFDSixDQUFDLENBQUM7RUFDTjs7RUFFQU0sU0FBU0EsQ0FBQ0MsTUFBTSxFQUFFO0lBQ2QsSUFBSSxDQUFDQSxNQUFNLENBQUNDLElBQUksQ0FBQ0QsTUFBTSxDQUFDO0VBQzVCOztFQUVBRSxlQUFlQSxDQUFBLEVBQUc7SUFDZCxJQUFJLENBQUNDLGdCQUFnQixDQUFDLENBQUMsQ0FBQztFQUM1Qjs7RUFFQUMsYUFBYUEsQ0FBQSxFQUFHO0lBQ1osSUFBSSxDQUFDRCxnQkFBZ0IsQ0FBQyxDQUFDLENBQUM7RUFDNUI7QUFDSjs7QUFFQW5CLGNBQWMsQ0FBQ1AsTUFBTSxHQUFHQSxNQUFNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQXV0b2Rlc2suRXh0ZW5zaW9ucy8uL2V4dGVuc2lvbnMvRWRpdDNEL1R3b1BvaW50UGlja2VyLmpzPzFiMzAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE5Qb2ludFBpY2tlciBmcm9tICcuL05Qb2ludFBpY2tlci5qcyc7XG5cbi8vIENvbnRyb2xzIHRoZSB1c2VyIGludGVyYWN0aW9uIHdvcmtmbG93IGZvciBhbGlnbmluZyBhIG1vZGVsIGJhc2VkIG9uIHR3byBzZWxlY3RlZCBwb2ludHNcblxuLy8gRXh0ZW5kIE5Qb2ludFBpY2tlciBldmVudHMuXG5jb25zdCBFdmVudHMgPSBPYmplY3QuYXNzaWduKHt9LCBOUG9pbnRQaWNrZXIuRXZlbnRzLCB7XG4gICAgRlJPTV9QT0lOVF9TRUxFQ1RFRDogJ2Zyb21Qb2ludFNlbGVjdGVkJyxcbiAgICBUT19QT0lOVF9TRUxFQ1RFRDogJ3RvUG9pbnRTZWxlY3RlZCcsXG4gICAgRlJPTV9QT0lOVF9IT1ZFUkVEOiAnZnJvbVBvaW50SG92ZXJlZCcsXG4gICAgVE9fUE9JTlRfSE9WRVJFRDogJ3RvUG9pbnRIb3ZlcmVkJ1xufSk7XG5cbi8vIEltcGxlbWVudHMgdGhlIGludGVyYWN0aW9uIHRvIHNlbGVjdCB0d28gcG9pbnRzOiBBICdmcm9tUG9pbnQnIGFuZCBhICd0b1BvaW50Jy5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFR3b1BvaW50UGlja2VyIGV4dGVuZHMgTlBvaW50UGlja2VyIHtcblxuICAgIGNvbnN0cnVjdG9yKHZpZXdlciwgY29vcmRQaWNrZXIsIHNjcmVlbk92ZXJsYXksIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIodmlld2VyLCBjb29yZFBpY2tlciwgc2NyZWVuT3ZlcmxheSwgMiwgb3B0aW9ucyk7XG5cbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKE5Qb2ludFBpY2tlci5FdmVudHMuUE9JTlRfU0VMRUNURUQsICh7IHBvaW50LCBpbmRleCB9KSA9PiB7XG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpcmVFdmVudCh7IHR5cGU6IEV2ZW50cy5GUk9NX1BPSU5UX1NFTEVDVEVELCBwb2ludCB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maXJlRXZlbnQoeyB0eXBlOiBFdmVudHMuVE9fUE9JTlRfU0VMRUNURUQsIHBvaW50IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoTlBvaW50UGlja2VyLkV2ZW50cy5QT0lOVF9IT1ZFUkVELCAoeyBwb2ludCwgaW5kZXggfSkgPT4ge1xuICAgICAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maXJlRXZlbnQoeyB0eXBlOiBFdmVudHMuRlJPTV9QT0lOVF9IT1ZFUkVELCBwb2ludCB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5maXJlRXZlbnQoeyB0eXBlOiBFdmVudHMuVE9fUE9JTlRfSE9WRVJFRCwgcG9pbnQgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNldE9mZnNldChvZmZzZXQpIHtcbiAgICAgICAgdGhpcy5vZmZzZXQuY29weShvZmZzZXQpO1xuICAgIH1cblxuICAgIHN0YXJ0U2VsZWN0RnJvbSgpIHtcbiAgICAgICAgdGhpcy5zdGFydFNlbGVjdFBvaW50KDApO1xuICAgIH1cblxuICAgIHN0YXJ0U2VsZWN0VG8oKSB7XG4gICAgICAgIHRoaXMuc3RhcnRTZWxlY3RQb2ludCgxKTtcbiAgICB9XG59XG5cblR3b1BvaW50UGlja2VyLkV2ZW50cyA9IEV2ZW50cztcbiJdLCJuYW1lcyI6WyJOUG9pbnRQaWNrZXIiLCJFdmVudHMiLCJPYmplY3QiLCJhc3NpZ24iLCJGUk9NX1BPSU5UX1NFTEVDVEVEIiwiVE9fUE9JTlRfU0VMRUNURUQiLCJGUk9NX1BPSU5UX0hPVkVSRUQiLCJUT19QT0lOVF9IT1ZFUkVEIiwiVHdvUG9pbnRQaWNrZXIiLCJjb25zdHJ1Y3RvciIsInZpZXdlciIsImNvb3JkUGlja2VyIiwic2NyZWVuT3ZlcmxheSIsIm9wdGlvbnMiLCJhZGRFdmVudExpc3RlbmVyIiwiUE9JTlRfU0VMRUNURUQiLCJfcmVmIiwicG9pbnQiLCJpbmRleCIsImZpcmVFdmVudCIsInR5cGUiLCJQT0lOVF9IT1ZFUkVEIiwiX3JlZjIiLCJzZXRPZmZzZXQiLCJvZmZzZXQiLCJjb3B5Iiwic3RhcnRTZWxlY3RGcm9tIiwic3RhcnRTZWxlY3RQb2ludCIsInN0YXJ0U2VsZWN0VG8iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./extensions/Edit3D/TwoPointPicker.js\n");

                /***/
            })

        /******/
    });
    /************************************************************************/
    /******/ // The module cache
    /******/
    var __webpack_module_cache__ = {};
    /******/
    /******/ // The require function
    /******/
    function __webpack_require__(moduleId) {
        /******/ // Check if module is in cache
        /******/
        var cachedModule = __webpack_module_cache__[moduleId];
        /******/
        if (cachedModule !== undefined) {
            /******/
            return cachedModule.exports;
            /******/
        }
        /******/ // Create a new module (and put it into the cache)
        /******/
        var module = __webpack_module_cache__[moduleId] = {
            /******/ // no module.id needed
            /******/ // no module.loaded needed
            /******/
            exports: {}
            /******/
        };
        /******/
        /******/ // Execute the module function
        /******/
        __webpack_modules__[moduleId](module, module.exports, __webpack_require__);
        /******/
        /******/ // Return the exports of the module
        /******/
        return module.exports;
        /******/
    }
    /******/
    /************************************************************************/
    /******/
    /* webpack/runtime/define property getters */
    /******/
    (() => {
        /******/ // define getter functions for harmony exports
        /******/
        __webpack_require__.d = (exports, definition) => {
            /******/
            for (var key in definition) {
                /******/
                if (__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
                    /******/
                    Object.defineProperty(exports, key, {
                        enumerable: true,
                        get: definition[key]
                    });
                    /******/
                }
                /******/
            }
            /******/
        };
        /******/
    })();
    /******/
    /******/
    /* webpack/runtime/hasOwnProperty shorthand */
    /******/
    (() => {
        /******/
        __webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
        /******/
    })();
    /******/
    /******/
    /* webpack/runtime/make namespace object */
    /******/
    (() => {
        /******/ // define __esModule on exports
        /******/
        __webpack_require__.r = (exports) => {
            /******/
            if (typeof Symbol !== 'undefined' && Symbol.toStringTag) {
                /******/
                Object.defineProperty(exports, Symbol.toStringTag, {
                    value: 'Module'
                });
                /******/
            }
            /******/
            Object.defineProperty(exports, '__esModule', {
                value: true
            });
            /******/
        };
        /******/
    })();
    /******/
    /************************************************************************/
    /******/
    /******/ // startup
    /******/ // Load entry module and return exports
    /******/ // This entry module can't be inlined because the eval-source-map devtool is used.
    /******/
    var __webpack_exports__ = __webpack_require__("./extensions/Edit3D/Edit3D.js");
    /******/
    Autodesk.Extensions.Edit3D = __webpack_exports__;
    /******/
    /******/
})();